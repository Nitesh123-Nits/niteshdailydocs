
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Technical notes, system design, Spring Boot, microservices">
      
      
        <meta name="author" content="Nitesh">
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Annotation - Nitesh Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-1-what-are-annotations-in-java" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Nitesh Notes" class="md-header__button md-logo" aria-label="Nitesh Notes" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nitesh Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Annotation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="pink"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="pink"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Nitesh123-Nits/niteshdailydocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Nitesh Notes" class="md-nav__button md-logo" aria-label="Nitesh Notes" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Nitesh Notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Nitesh123-Nits/niteshdailydocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    System Design
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    System Design
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Distributed System" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Load Balancer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../HLD" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Saga vs 2PC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Spring
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Spring
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spring/webflux-best-practices.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WebFlux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<p>Understanding annotations deeply makes your Java knowledge <strong>modern and framework-ready</strong> (Spring, Hibernate, JPA, etc. are annotation-heavy).</p>
<p>Let‚Äôs start our <strong>Annotation Series ‚Äî Part 1: Introduction to Annotations in Java</strong> üß†</p>
<hr />
<h2 id="part-1-what-are-annotations-in-java">üß© Part 1 ‚Äî What Are Annotations in Java?<a class="headerlink" href="#part-1-what-are-annotations-in-java" title="Permanent link">&para;</a></h2>
<p>Annotations are <strong>metadata</strong> added to Java code ‚Äî they <strong>don‚Äôt affect program logic directly</strong>, but they <strong>give information to the compiler, runtime, or frameworks</strong> about how to treat a class, method, or field.</p>
<p>In short:</p>
<blockquote>
<p>Annotations are like <strong>labels or tags</strong> attached to code elements.</p>
</blockquote>
<hr />
<h3 id="simple-example">üß† Simple Example<a class="headerlink" href="#simple-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Here <code>@Override</code> tells the <strong>compiler</strong> that this method overrides a method from a superclass.</p>
<p>If it doesn‚Äôt, you‚Äôll get a <strong>compile-time error</strong>.<br />
So, annotations can <strong>enhance safety</strong>, <strong>reduce boilerplate</strong>, and <strong>guide frameworks</strong>.</p>
<hr />
<h2 id="types-of-annotations-in-java">üß© Types of Annotations in Java<a class="headerlink" href="#types-of-annotations-in-java" title="Permanent link">&para;</a></h2>
<h3 id="1-built-in-annotations">1Ô∏è‚É£ <strong>Built-in Annotations</strong><a class="headerlink" href="#1-built-in-annotations" title="Permanent link">&para;</a></h3>
<p>These are already provided by Java.</p>
<table>
<thead>
<tr>
<th>Annotation</th>
<th>Used For</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@Override</code></td>
<td>Ensure overriding a parent method</td>
<td><code>@Override public void run()</code></td>
</tr>
<tr>
<td><code>@Deprecated</code></td>
<td>Mark code as deprecated</td>
<td><code>@Deprecated void oldMethod()</code></td>
</tr>
<tr>
<td><code>@SuppressWarnings</code></td>
<td>Tell compiler to ignore warnings</td>
<td><code>@SuppressWarnings("unchecked")</code></td>
</tr>
<tr>
<td><code>@FunctionalInterface</code></td>
<td>Marks interface with a single abstract method</td>
<td><code>@FunctionalInterface public interface Runnable { void run(); }</code></td>
</tr>
</tbody>
</table>
<hr />
<h3 id="2-meta-annotations-annotations-on-annotations">2Ô∏è‚É£ <strong>Meta-Annotations (Annotations on Annotations)</strong><a class="headerlink" href="#2-meta-annotations-annotations-on-annotations" title="Permanent link">&para;</a></h3>
<p>These define <strong>how your custom annotations behave</strong>.<br />
They‚Äôre used when you create your own annotation.</p>
<table>
<thead>
<tr>
<th>Meta-Annotation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@Retention</code></td>
<td>Defines <strong>how long</strong> the annotation is retained (source, class, or runtime)</td>
</tr>
<tr>
<td><code>@Target</code></td>
<td>Defines <strong>where</strong> the annotation can be applied (class, method, field, etc.)</td>
</tr>
<tr>
<td><code>@Inherited</code></td>
<td>Allows annotation to be <strong>inherited by subclasses</strong></td>
</tr>
<tr>
<td><code>@Documented</code></td>
<td>Indicates that annotation should appear in Javadoc</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="example-of-meta-annotations">üîç Example of Meta-Annotations<a class="headerlink" href="#example-of-meta-annotations" title="Permanent link">&para;</a></h3>
<p>Let‚Äôs say we create our own annotation:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.annotation.*</span><span class="p">;</span>

<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="nd">@Target</span><span class="p">(</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">)</span>
<span class="nd">@Documented</span>
<span class="kd">public</span><span class="w"> </span><span class="nd">@interface</span><span class="w"> </span><span class="n">Auditable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">value</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s">&quot;default-audit&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Here‚Äôs what each part means:</p>
<table>
<thead>
<tr>
<th>Meta-Annotation</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@Retention(RetentionPolicy.RUNTIME)</code></td>
<td>Annotation is available at <strong>runtime</strong> (can be read via reflection)</td>
</tr>
<tr>
<td><code>@Target(ElementType.TYPE)</code></td>
<td>Can be applied on <strong>class, interface, or enum</strong></td>
</tr>
<tr>
<td><code>@Documented</code></td>
<td>Will be included in Javadoc</td>
</tr>
<tr>
<td><code>String value()</code></td>
<td>Defines a <strong>property</strong> (annotation field) that you can set</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="applying-the-custom-annotation">üß© Applying the Custom Annotation<a class="headerlink" href="#applying-the-custom-annotation" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@Auditable</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;TransactionModule&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Transaction</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Or simply (if you use <code>value()</code> as default field):</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Auditable</span><span class="p">(</span><span class="s">&quot;TransactionModule&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Transaction</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="accessing-annotation-at-runtime-reflection">üß† Accessing Annotation at Runtime (Reflection)<a class="headerlink" href="#accessing-annotation-at-runtime-reflection" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AnnotationReader</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">Transaction</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clazz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Transaction</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clazz</span><span class="p">.</span><span class="na">isAnnotationPresent</span><span class="p">(</span><span class="n">Auditable</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Auditable</span><span class="w"> </span><span class="n">audit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clazz</span><span class="p">.</span><span class="na">getAnnotation</span><span class="p">(</span><span class="n">Auditable</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Audit value: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">audit</span><span class="p">.</span><span class="na">value</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Output:</strong></p>
<div class="highlight"><pre><span></span><code>Audit value: TransactionModule
</code></pre></div>
<p>‚úÖ You‚Äôve just:</p>
<ul>
<li>
<p>Created your own annotation</p>
</li>
<li>
<p>Controlled where it can be applied</p>
</li>
<li>
<p>Controlled how long it‚Äôs retained</p>
</li>
<li>
<p>Accessed it dynamically at runtime</p>
</li>
</ul>
<hr />
<h2 id="summary">üß± Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Concept</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Annotation</strong></td>
<td>A form of metadata used to provide information to compiler/runtime</td>
</tr>
<tr>
<td><strong>Meta-Annotations</strong></td>
<td>Annotations that define how other annotations behave</td>
</tr>
<tr>
<td><strong>RetentionPolicy</strong></td>
<td><code>SOURCE</code>, <code>CLASS</code>, or <code>RUNTIME</code></td>
</tr>
<tr>
<td><strong>Target</strong></td>
<td>Restricts where annotation can be used</td>
</tr>
<tr>
<td><strong>Custom Annotations</strong></td>
<td>Define your own rules for frameworks or code validation</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="next-in-the-series-part-2-preview">üöÄ Next in the Series (Part 2 Preview)<a class="headerlink" href="#next-in-the-series-part-2-preview" title="Permanent link">&para;</a></h3>
<p>In the next part, we‚Äôll cover:</p>
<ul>
<li>
<p>üß† All <strong>RetentionPolicy levels</strong> (SOURCE, CLASS, RUNTIME) with code examples</p>
</li>
<li>
<p>üß© All <strong>Target types</strong> (TYPE, FIELD, METHOD, PARAMETER, etc.)</p>
</li>
<li>
<p>‚öôÔ∏è How frameworks like <strong>Spring</strong> internally use annotations</p>
</li>
</ul>
<hr />
<h1 id="java-annotation-series-part-2-retention-target-deep-dive">Java Annotation Series ‚Äî Part 2: Retention &amp; Target Deep Dive<a class="headerlink" href="#java-annotation-series-part-2-retention-target-deep-dive" title="Permanent link">&para;</a></h1>
<p>In this part, we‚Äôll focus on the <strong>two most important meta-annotations</strong>:<br />
üëâ <code>@Retention</code><br />
üëâ <code>@Target</code></p>
<p>Both are essential for <strong>defining how and where</strong> your custom annotations behave.</p>
<hr />
<h2 id="what-is-retention">üß© What is <code>@Retention</code>?<a class="headerlink" href="#what-is-retention" title="Permanent link">&para;</a></h2>
<p><code>@Retention</code> tells the compiler <strong>how long</strong> an annotation should be retained ‚Äî<br />
that is, whether it should be available in the <strong>source code</strong>, <strong>compiled .class file</strong>, or <strong>runtime</strong> (for reflection).</p>
<hr />
<h3 id="syntax">üß† Syntax<a class="headerlink" href="#syntax" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
</code></pre></div>
<hr />
<h3 id="retentionpolicy-levels">üß© RetentionPolicy Levels<a class="headerlink" href="#retentionpolicy-levels" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>RetentionPolicy</th>
<th>Description</th>
<th>Visible To</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SOURCE</strong></td>
<td>Annotation is discarded during compilation.</td>
<td>Compiler only</td>
<td><code>@Override</code>, <code>@SuppressWarnings</code></td>
</tr>
<tr>
<td><strong>CLASS</strong></td>
<td>Annotation is in <code>.class</code> file but not available at runtime.</td>
<td>Compiler + JVM</td>
<td>Default if not specified</td>
</tr>
<tr>
<td><strong>RUNTIME</strong></td>
<td>Annotation is available at runtime (can be accessed via reflection).</td>
<td>Compiler + JVM + Reflection</td>
<td><code>@Entity</code>, <code>@Autowired</code>, custom runtime logic</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="example-1-source-level">üîç Example 1 ‚Äî SOURCE Level<a class="headerlink" href="#example-1-source-level" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.annotation.*</span><span class="p">;</span>

<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">SOURCE</span><span class="p">)</span>
<span class="nd">@Target</span><span class="p">(</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">)</span>
<span class="nd">@interface</span><span class="w"> </span><span class="n">SourceLevelAnnotation</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@SourceLevelAnnotation</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo1</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>‚úÖ The compiler <strong>uses</strong> this annotation but removes it after compilation.<br />
You <strong>can‚Äôt read it via reflection</strong>.</p>
<hr />
<h3 id="example-2-class-level">üîç Example 2 ‚Äî CLASS Level<a class="headerlink" href="#example-2-class-level" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.annotation.*</span><span class="p">;</span>

<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">CLASS</span><span class="p">)</span>
<span class="nd">@Target</span><span class="p">(</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">)</span>
<span class="nd">@interface</span><span class="w"> </span><span class="n">ClassLevelAnnotation</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@ClassLevelAnnotation</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo2</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>‚úÖ It is stored in <code>.class</code> file but <strong>not loaded into JVM at runtime</strong> ‚Äî reflection can‚Äôt find it.<br />
Common for <strong>bytecode-processing tools or frameworks</strong> that read <code>.class</code> files.</p>
<hr />
<h3 id="example-3-runtime-level">üîç Example 3 ‚Äî RUNTIME Level<a class="headerlink" href="#example-3-runtime-level" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.annotation.*</span><span class="p">;</span>

<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="nd">@Target</span><span class="p">(</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">)</span>
<span class="nd">@interface</span><span class="w"> </span><span class="n">RuntimeLevelAnnotation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">value</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s">&quot;Active at runtime&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nd">@RuntimeLevelAnnotation</span><span class="p">(</span><span class="s">&quot;DemoClass&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo3</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestRuntime</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">Demo3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clazz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Demo3</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clazz</span><span class="p">.</span><span class="na">isAnnotationPresent</span><span class="p">(</span><span class="n">RuntimeLevelAnnotation</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">RuntimeLevelAnnotation</span><span class="w"> </span><span class="n">ann</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clazz</span><span class="p">.</span><span class="na">getAnnotation</span><span class="p">(</span><span class="n">RuntimeLevelAnnotation</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Annotation value: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ann</span><span class="p">.</span><span class="na">value</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>üü¢ <strong>Output:</strong></p>
<div class="highlight"><pre><span></span><code>Annotation value: DemoClass
</code></pre></div>
<p>‚úÖ You can access it at runtime through reflection ‚Äî this is how frameworks like <strong>Spring</strong> and <strong>Hibernate</strong> detect annotations dynamically.</p>
<hr />
<h2 id="what-is-target">üß© What is <code>@Target</code>?<a class="headerlink" href="#what-is-target" title="Permanent link">&para;</a></h2>
<p><code>@Target</code> defines <strong>where</strong> an annotation can be applied.</p>
<hr />
<h3 id="syntax_1">üß† Syntax<a class="headerlink" href="#syntax_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Target</span><span class="p">(</span><span class="n">ElementType</span><span class="p">.</span><span class="na">METHOD</span><span class="p">)</span>
</code></pre></div>
<hr />
<h3 id="elementtype-options">üéØ ElementType Options<a class="headerlink" href="#elementtype-options" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ElementType</th>
<th>Used On</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TYPE</code></td>
<td>Class, interface, enum</td>
<td><code>@Entity</code>, <code>@Configuration</code></td>
</tr>
<tr>
<td><code>FIELD</code></td>
<td>Field (member variable)</td>
<td><code>@Autowired</code>, <code>@Id</code></td>
</tr>
<tr>
<td><code>METHOD</code></td>
<td>Method</td>
<td><code>@GetMapping</code>, <code>@Bean</code></td>
</tr>
<tr>
<td><code>PARAMETER</code></td>
<td>Method parameters</td>
<td><code>@RequestParam</code>, <code>@PathVariable</code></td>
</tr>
<tr>
<td><code>CONSTRUCTOR</code></td>
<td>Constructors</td>
<td><code>@Inject</code></td>
</tr>
<tr>
<td><code>LOCAL_VARIABLE</code></td>
<td>Local variables</td>
<td>Rarely used</td>
</tr>
<tr>
<td><code>ANNOTATION_TYPE</code></td>
<td>Another annotation</td>
<td>Used to create meta-annotations</td>
</tr>
<tr>
<td><code>PACKAGE</code></td>
<td>Package declarations</td>
<td><code>@PackageAnnotation</code></td>
</tr>
<tr>
<td><code>RECORD_COMPONENT</code></td>
<td>Java 16+ record components</td>
<td>For record data classes</td>
</tr>
<tr>
<td><code>TYPE_PARAMETER</code></td>
<td>Generic type parameters</td>
<td><code>class Box&lt;@NotNull T&gt;</code></td>
</tr>
<tr>
<td><code>TYPE_USE</code></td>
<td>Any use of a type (very general)</td>
<td>Useful in static analysis tools</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="example-target-on-fields-and-methods">üîç Example ‚Äî <code>@Target</code> on Fields and Methods<a class="headerlink" href="#example-target-on-fields-and-methods" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.annotation.*</span><span class="p">;</span>

<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="nd">@Target</span><span class="p">({</span><span class="n">ElementType</span><span class="p">.</span><span class="na">FIELD</span><span class="p">,</span><span class="w"> </span><span class="n">ElementType</span><span class="p">.</span><span class="na">METHOD</span><span class="p">})</span>
<span class="nd">@interface</span><span class="w"> </span><span class="n">Important</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">value</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s">&quot;Critical&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Important</span><span class="p">(</span><span class="s">&quot;Primary ID field&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Important</span><span class="p">(</span><span class="s">&quot;Main operation&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">process</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>You can limit the annotation‚Äôs scope so it can‚Äôt be misused (e.g., can‚Äôt annotate classes or parameters).</p>
<hr />
<h2 id="combining-retention-and-target">üß± Combining <code>@Retention</code> and <code>@Target</code><a class="headerlink" href="#combining-retention-and-target" title="Permanent link">&para;</a></h2>
<p>Most custom annotations combine both:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.annotation.*</span><span class="p">;</span>

<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="nd">@Target</span><span class="p">(</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="nd">@interface</span><span class="w"> </span><span class="n">Auditable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">module</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s">&quot;default&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>This means:</p>
<ul>
<li>
<p>The annotation can only be applied to <strong>classes/interfaces</strong>.</p>
</li>
<li>
<p>It‚Äôs available <strong>at runtime</strong> for reflection or frameworks to use.</p>
</li>
</ul>
<hr />
<h2 id="how-frameworks-use-this-internally">‚öôÔ∏è How Frameworks Use This Internally<a class="headerlink" href="#how-frameworks-use-this-internally" title="Permanent link">&para;</a></h2>
<p><strong>Spring</strong>, <strong>JPA</strong>, and <strong>Jakarta EE</strong> rely heavily on <code>@Retention(RUNTIME)</code> annotations.</p>
<p>Examples:</p>
<ul>
<li>
<p><code>@Entity</code> ‚Üí tells Hibernate this class maps to a database table.</p>
</li>
<li>
<p><code>@RestController</code> ‚Üí Spring scans it at runtime to register HTTP endpoints.</p>
</li>
<li>
<p><code>@Autowired</code> ‚Üí Spring finds and injects beans dynamically at runtime.</p>
</li>
</ul>
<p>All of these exist because annotations with <strong>RUNTIME retention</strong> can be <strong>read dynamically</strong>.</p>
<hr />
<h2 id="summary_1">üß≠ Summary<a class="headerlink" href="#summary_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Concept</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RetentionPolicy.SOURCE</strong></td>
<td>Annotation discarded after compilation</td>
<td><code>@Override</code></td>
</tr>
<tr>
<td><strong>RetentionPolicy.CLASS</strong></td>
<td>Annotation in <code>.class</code>, not at runtime</td>
<td>Bytecode tools</td>
</tr>
<tr>
<td><strong>RetentionPolicy.RUNTIME</strong></td>
<td>Annotation available for reflection</td>
<td><code>@Entity</code>, <code>@Autowired</code></td>
</tr>
<tr>
<td><strong>@Target</strong></td>
<td>Restricts usage locations</td>
<td><code>ElementType.TYPE</code>, <code>FIELD</code>, <code>METHOD</code>, etc.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="next-in-the-series-part-3-preview">üöÄ Next in the Series (Part 3 Preview)<a class="headerlink" href="#next-in-the-series-part-3-preview" title="Permanent link">&para;</a></h3>
<p>In the next part, we‚Äôll explore:</p>
<ul>
<li>
<p>‚ú≥Ô∏è Creating <strong>annotations with multiple elements</strong></p>
</li>
<li>
<p>üéõÔ∏è Using <strong>default values</strong></p>
</li>
<li>
<p>üí• Handling <strong>arrays and enums</strong> in annotation fields</p>
</li>
<li>
<p>‚öôÔ∏è Real-world examples used in frameworks (Spring-like logic)</p>
</li>
</ul>
<hr />
<p><strong>Annotation Series for Java and Spring Boot</strong>, designed to cover:<br />
‚úÖ Core annotations every <strong>Java and Spring Boot developer</strong> must know.<br />
‚úÖ Real-world examples (how they‚Äôre used in real apps).<br />
‚úÖ Interview-level explanations (what‚Äôs happening internally).<br />
‚úÖ Best practices and gotchas (for production-grade code).</p>
<hr />
<h2 id="part-1-core-java-annotations">üß© <strong>Part 1: Core Java Annotations</strong><a class="headerlink" href="#part-1-core-java-annotations" title="Permanent link">&para;</a></h2>
<p>Before diving into Spring Boot, let‚Äôs build a strong Java foundation.</p>
<h3 id="1-override">üîπ 1. <code>@Override</code><a class="headerlink" href="#1-override" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Ensures that a method overrides a method from a superclass or implements an interface method.</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Vehicle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Vehicle starting...&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Car</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Vehicle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// Ensures we&#39;re overriding correctly</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Car starting...&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Why Important:</strong></p>
<ul>
<li>
<p>Prevents accidental overloading instead of overriding.</p>
</li>
<li>
<p>Compilation error if method signature doesn‚Äôt match parent.</p>
</li>
</ul>
<hr />
<h3 id="2-deprecated">üîπ 2. <code>@Deprecated</code><a class="headerlink" href="#2-deprecated" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Marks a method/class as obsolete ‚Äî warns developers not to use it.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Deprecated</span>
<span class="kd">class</span> <span class="nc">OldPaymentService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">processPayment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">NewPaymentService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">processPayment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Best Practice:</strong><br />
Always provide an alternative using <code>@deprecated</code> Javadoc tag:</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * @deprecated use {@link NewPaymentService} instead.</span>
<span class="cm"> */</span>
</code></pre></div>
<hr />
<h3 id="3-suppresswarnings">üîπ 3. <code>@SuppressWarnings</code><a class="headerlink" href="#3-suppresswarnings" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Suppresses compiler warnings (like unchecked, deprecation).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;unchecked&quot;</span><span class="p">)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loadList</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">List</span><span class="w"> </span><span class="n">rawList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span><span class="w">  </span><span class="c1">// Raw types warning suppressed</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Use Carefully:</strong><br />
Never overuse ‚Äî it can hide genuine problems.</p>
<hr />
<h3 id="4-functionalinterface-java-8">üîπ 4. <code>@FunctionalInterface</code> (Java 8+)<a class="headerlink" href="#4-functionalinterface-java-8" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Marks an interface as functional (exactly one abstract method).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@FunctionalInterface</span>
<span class="kd">interface</span> <span class="nc">Greeting</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">sayHello</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Real-world use:</strong><br />
Required for <strong>lambda expressions</strong> and <strong>streams</strong>.</p>
<hr />
<h3 id="5-safevarargs-java-7">üîπ 5. <code>@SafeVarargs</code> (Java 7+)<a class="headerlink" href="#5-safevarargs-java-7" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Prevents warnings for varargs methods using generics.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SafeVarargs</span>
<span class="kd">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printAll</span><span class="p">(</span><span class="n">T</span><span class="p">...</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h3 id="6-record-java-16-feature">üîπ 6. <code>@Record</code> (Java 16+ feature)<a class="headerlink" href="#6-record-java-16-feature" title="Permanent link">&para;</a></h3>
<p>Technically not an annotation ‚Äî but <strong>record</strong> uses annotation-like semantics:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<p>‚úÖ Auto-generates:</p>
<ul>
<li>
<p>Constructor</p>
</li>
<li>
<p>Getters</p>
</li>
<li>
<p><code>equals</code>, <code>hashCode</code>, <code>toString</code></p>
</li>
</ul>
<hr />
<p>Now, let‚Äôs jump into <strong>Spring Boot annotations</strong>, where real-world development and interview questions come in.</p>
<hr />
<h2 id="part-2-core-spring-boot-annotations">‚öôÔ∏è <strong>Part 2: Core Spring Boot Annotations</strong><a class="headerlink" href="#part-2-core-spring-boot-annotations" title="Permanent link">&para;</a></h2>
<h3 id="1-springbootapplication">üîπ 1. <code>@SpringBootApplication</code><a class="headerlink" href="#1-springbootapplication" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Entry point annotation combining three:</p>
<ul>
<li>
<p><code>@Configuration</code></p>
</li>
<li>
<p><code>@EnableAutoConfiguration</code></p>
</li>
<li>
<p><code>@ComponentScan</code></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyApp</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">MyApp</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Internal Magic:</strong><br />
Auto-configures your app based on dependencies (e.g., Tomcat, DataSource, etc.)</p>
<hr />
<h3 id="2-component-service-repository-controller">üîπ 2. <code>@Component</code>, <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code><a class="headerlink" href="#2-component-service-repository-controller" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Marks a class as a <strong>Spring Bean</strong> (managed by Spring‚Äôs IoC container).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">class</span> <span class="nc">EmailValidator</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@Service</span>
<span class="kd">class</span> <span class="nc">UserService</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@Repository</span>
<span class="kd">class</span> <span class="nc">UserRepository</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@Controller</span>
<span class="kd">class</span> <span class="nc">UserController</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Interview Tip:</strong><br />
All are <strong>specializations of <code>@Component</code></strong>, but with semantic intent.</p>
<hr />
<h3 id="3-autowired-inject-qualifier">üîπ 3. <code>@Autowired</code> / <code>@Inject</code> / <code>@Qualifier</code><a class="headerlink" href="#3-autowired-inject-qualifier" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Dependency Injection (DI).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PaymentService</span><span class="w"> </span><span class="n">paymentService</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">OrderService</span><span class="p">(</span><span class="nd">@Qualifier</span><span class="p">(</span><span class="s">&quot;stripePayment&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">PaymentService</span><span class="w"> </span><span class="n">ps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">paymentService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ps</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Best Practice:</strong><br />
Prefer <strong>constructor injection</strong> for immutability and testing.</p>
<hr />
<h3 id="4-configuration-and-bean">üîπ 4. <code>@Configuration</code> and <code>@Bean</code><a class="headerlink" href="#4-configuration-and-bean" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Define Spring beans manually (explicit bean creation).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AppConfig</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ModelMapper</span><span class="w"> </span><span class="nf">modelMapper</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ModelMapper</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Internally:</strong><br />
<code>@Configuration</code> classes are <strong>proxy-enhanced</strong> to ensure singleton beans.</p>
<hr />
<h3 id="5-restcontroller-requestmapping">üîπ 5. <code>@RestController</code> + <code>@RequestMapping</code><a class="headerlink" href="#5-restcontroller-requestmapping" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Exposes REST APIs.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/api/users&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/{id}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getUser</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">User</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Nitesh&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Combines:</strong><br />
<code>@Controller</code> + <code>@ResponseBody</code></p>
<hr />
<h3 id="6-requestparam-pathvariable-requestbody">üîπ 6. <code>@RequestParam</code>, <code>@PathVariable</code>, <code>@RequestBody</code><a class="headerlink" href="#6-requestparam-pathvariable-requestbody" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Handle different types of HTTP inputs.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/greet&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Hello &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/users/{id}&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">getUser</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/users&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">addUser</span><span class="p">(</span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h3 id="7-transactional">üîπ 7. <code>@Transactional</code><a class="headerlink" href="#7-transactional" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Enables declarative transaction management.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Transactional</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">placeOrder</span><span class="p">(</span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">orderRepo</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>
<span class="w">    </span><span class="n">paymentService</span><span class="p">.</span><span class="na">debit</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Internally:</strong><br />
Uses <strong>AOP proxies</strong> to manage transaction lifecycle (commit/rollback).</p>
<hr />
<h3 id="8-value-and-configurationproperties">üîπ 8. <code>@Value</code> and <code>@ConfigurationProperties</code><a class="headerlink" href="#8-value-and-configurationproperties" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Inject values from <code>application.yml</code> or environment.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;${app.name}&quot;</span><span class="p">)</span>
<span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">appName</span><span class="p">;</span>

<span class="nd">@ConfigurationProperties</span><span class="p">(</span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;app&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AppProperties</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Best Practice:</strong><br />
Prefer <code>@ConfigurationProperties</code> for <strong>type safety</strong>.</p>
<hr />
<h3 id="9-enablescheduling-scheduled">üîπ 9. <code>@EnableScheduling</code>, <code>@Scheduled</code><a class="headerlink" href="#9-enablescheduling-scheduled" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Schedule background tasks.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableScheduling</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SchedulerApp</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@Component</span>
<span class="kd">class</span> <span class="nc">TaskScheduler</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Scheduled</span><span class="p">(</span><span class="n">fixedRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5000</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Running every 5 sec&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h3 id="10-conditional-profile">üîπ 10. <code>@Conditional</code>, <code>@Profile</code><a class="headerlink" href="#10-conditional-profile" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Conditional bean creation.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Profile</span><span class="p">(</span><span class="s">&quot;dev&quot;</span><span class="p">)</span>
<span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="nf">devDataSource</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@ConditionalOnMissingBean</span>
<span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">DefaultEmailService</span><span class="w"> </span><span class="nf">emailService</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>‚úÖ <strong>Used internally in Spring Boot‚Äôs auto-configuration.</strong></p>
<hr />
<h2 id="next-in-the-series-part-2-preview_1">üöÄ Next in the Series (Part 2 Preview)<a class="headerlink" href="#next-in-the-series-part-2-preview_1" title="Permanent link">&para;</a></h2>
<p>We‚Äôll go deeper into:</p>
<ul>
<li>
<p><code>@ControllerAdvice</code>, <code>@ExceptionHandler</code></p>
</li>
<li>
<p><code>@Aspect</code>, <code>@Around</code>, <code>@Before</code></p>
</li>
<li>
<p><code>@PostConstruct</code>, <code>@PreDestroy</code></p>
</li>
<li>
<p>Custom Annotations (<code>@LogExecutionTime</code>, etc.)</p>
</li>
<li>
<p>Meta-annotations and annotation processing</p>
</li>
</ul>
<hr />
<h1 id="all-important-caching-annotations-in-spring-boot">üöÄ <strong>All Important Caching Annotations in Spring Boot</strong><a class="headerlink" href="#all-important-caching-annotations-in-spring-boot" title="Permanent link">&para;</a></h1>
<p>Spring Boot‚Äôs caching abstraction (Spring Cache) makes caching extremely simple using annotations. These annotations work with:</p>
<ul>
<li>
<p><strong>Caffeine</strong></p>
</li>
<li>
<p><strong>Redis</strong></p>
</li>
<li>
<p><strong>Ehcache</strong></p>
</li>
<li>
<p><strong>Hazelcast</strong></p>
</li>
<li>
<p><strong>Simple in-memory concurrent map (default)</strong></p>
</li>
</ul>
<p>Once you add:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableCaching</span>
</code></pre></div>
<p>‚Ä¶you instantly get caching capabilities across your services.</p>
<p>Let‚Äôs break down all caching annotations you'll encounter in real projects and interviews.</p>
<hr />
<h1 id="1-enablecaching">1Ô∏è‚É£ <strong>@EnableCaching</strong><a class="headerlink" href="#1-enablecaching" title="Permanent link">&para;</a></h1>
<h3 id="purpose"><strong>Purpose:</strong><a class="headerlink" href="#purpose" title="Permanent link">&para;</a></h3>
<p>Turns on Spring‚Äôs caching mechanism.</p>
<h3 id="where-it-goes"><strong>Where it goes:</strong><a class="headerlink" href="#where-it-goes" title="Permanent link">&para;</a></h3>
<p>On the main application class.</p>
<h3 id="example"><strong>Example:</strong><a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootApplication</span>
<span class="nd">@EnableCaching</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductServiceApplication</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">ProductServiceApplication</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="what-it-does"><strong>What it does:</strong><a class="headerlink" href="#what-it-does" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Activates cache interceptors</p>
</li>
<li>
<p>Allows Spring to wrap methods annotated with caching annotations</p>
</li>
<li>
<p>Enables cache providers (Redis, Caffeine, etc.)</p>
</li>
</ul>
<hr />
<h1 id="2-cacheable">2Ô∏è‚É£ <strong>@Cacheable</strong><a class="headerlink" href="#2-cacheable" title="Permanent link">&para;</a></h1>
<h3 id="purpose_1"><strong>Purpose:</strong><a class="headerlink" href="#purpose_1" title="Permanent link">&para;</a></h3>
<p>Caches the <strong>method return value</strong>.<br />
Next call with the same key returns cached data <em>without executing the method</em>.</p>
<h3 id="most-used-caching-annotation"><strong>Most used caching annotation.</strong><a class="headerlink" href="#most-used-caching-annotation" title="Permanent link">&para;</a></h3>
<h3 id="example_1"><strong>Example:</strong><a class="headerlink" href="#example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Cacheable</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">getProduct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">simulateSlowDB</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Macbook Pro&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="what-happens"><strong>What happens:</strong><a class="headerlink" href="#what-happens" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>First call ‚Üí method executes</p>
</li>
<li>
<p>Next calls ‚Üí response comes from cache (super fast!)</p>
</li>
</ul>
<h3 id="options"><strong>Options:</strong><a class="headerlink" href="#options" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>condition = "#id &gt; 10"</code></p>
</li>
<li>
<p><code>unless = "#result == null"</code></p>
</li>
<li>
<p><code>sync = true</code> (avoid race condition)</p>
</li>
</ul>
<hr />
<h1 id="3-cacheput">3Ô∏è‚É£ <strong>@CachePut</strong><a class="headerlink" href="#3-cacheput" title="Permanent link">&para;</a></h1>
<h3 id="purpose_2"><strong>Purpose:</strong><a class="headerlink" href="#purpose_2" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Executes the method <strong>always</strong></p>
</li>
<li>
<p>Updates the cache <strong>with the return value</strong></p>
</li>
<li>
<p>Used for <strong>create/update operations</strong></p>
</li>
</ul>
<h3 id="example_2"><strong>Example:</strong><a class="headerlink" href="#example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@CachePut</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#product.id&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case">Use Case:<a class="headerlink" href="#use-case" title="Permanent link">&para;</a></h3>
<ul>
<li>After updating product in DB, we want the latest product in cache.</li>
</ul>
<hr />
<h1 id="4-cacheevict">4Ô∏è‚É£ <strong>@CacheEvict</strong><a class="headerlink" href="#4-cacheevict" title="Permanent link">&para;</a></h1>
<h3 id="purpose_3"><strong>Purpose:</strong><a class="headerlink" href="#purpose_3" title="Permanent link">&para;</a></h3>
<p>Evicts (deletes) items from cache.</p>
<h3 id="example_3"><strong>Example:</strong><a class="headerlink" href="#example_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@CacheEvict</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteProduct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">repository</span><span class="p">.</span><span class="na">deleteById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="useful-options"><strong>Useful Options:</strong><a class="headerlink" href="#useful-options" title="Permanent link">&para;</a></h3>
<p>üìå <strong>1. Remove entire cache</strong></p>
<div class="highlight"><pre><span></span><code><span class="nd">@CacheEvict</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">allEntries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAllProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<p>üìå <strong>2. Remove cache after method success only</strong></p>
<div class="highlight"><pre><span></span><code><span class="nd">@CacheEvict</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">beforeInvocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</code></pre></div>
<p>üìå <strong>3. Remove cache even if method fails</strong></p>
<div class="highlight"><pre><span></span><code><span class="nd">@CacheEvict</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">beforeInvocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</code></pre></div>
<hr />
<h1 id="5-caching">5Ô∏è‚É£ <strong>@Caching</strong><a class="headerlink" href="#5-caching" title="Permanent link">&para;</a></h1>
<h3 id="purpose_4"><strong>Purpose:</strong><a class="headerlink" href="#purpose_4" title="Permanent link">&para;</a></h3>
<p>Allows multiple caching rules on the same method.</p>
<h3 id="example_4"><strong>Example:</strong><a class="headerlink" href="#example_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Caching</span><span class="p">(</span>
<span class="w">    </span><span class="n">put</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@CachePut</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#product.id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="n">evict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@CacheEvict</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#product.id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_1"><strong>Use Case:</strong><a class="headerlink" href="#use-case_1" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Update product cache</p>
</li>
<li>
<p>Remove stale inventory cache<br />
    ‚Ä¶in <strong>one single method</strong></p>
</li>
</ul>
<hr />
<h1 id="6-cacheconfig">6Ô∏è‚É£ <strong>@CacheConfig</strong><a class="headerlink" href="#6-cacheconfig" title="Permanent link">&para;</a></h1>
<h3 id="purpose_5"><strong>Purpose:</strong><a class="headerlink" href="#purpose_5" title="Permanent link">&para;</a></h3>
<p>Used at class level to define <strong>shared cache settings</strong>.</p>
<h3 id="example_5"><strong>Example:</strong><a class="headerlink" href="#example_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="nd">@CacheConfig</span><span class="p">(</span><span class="n">cacheNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Cacheable</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">getProduct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@CacheEvict</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteProduct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="what-it-does_1"><strong>What it does:</strong><a class="headerlink" href="#what-it-does_1" title="Permanent link">&para;</a></h3>
<p>Removes the need to repeatedly specify:</p>
<div class="highlight"><pre><span></span><code><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span>
</code></pre></div>
<hr />
<h1 id="7-enablespringconfigured">7Ô∏è‚É£ <strong>@EnableSpringConfigured</strong><a class="headerlink" href="#7-enablespringconfigured" title="Permanent link">&para;</a></h1>
<p>(rare, but shows up in interviews)</p>
<p>Used with <strong>AspectJ</strong> when caching needs to apply to non-Spring-managed beans.<br />
Not common for microservices, but good to know.</p>
<hr />
<h1 id="8-cacheresult-cacheremove-cacheremoveall-jsr-107-jcache">8Ô∏è‚É£ <strong>@CacheResult, @CacheRemove, @CacheRemoveAll</strong> (JSR-107 / JCache)<a class="headerlink" href="#8-cacheresult-cacheremove-cacheremoveall-jsr-107-jcache" title="Permanent link">&para;</a></h1>
<p>If using <strong>JCache API (JSR-107)</strong> instead of Spring Cache:</p>
<ul>
<li>
<p><code>@CacheResult</code> ‚Üí equivalent to <code>@Cacheable</code></p>
</li>
<li>
<p><code>@CacheRemove</code> ‚Üí equivalent to <code>@CacheEvict</code></p>
</li>
<li>
<p><code>@CacheRemoveAll</code> ‚Üí clears entire cache</p>
</li>
</ul>
<h3 id="example-jsr-107">Example (JSR-107):<a class="headerlink" href="#example-jsr-107" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@CacheResult</span><span class="p">(</span><span class="n">cacheName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>Spring automatically maps these JSR annotations.</p>
<hr />
<h1 id="real-world-caching-flow-example">üî• Real-World Caching Flow Example<a class="headerlink" href="#real-world-caching-flow-example" title="Permanent link">&para;</a></h1>
<p>Let‚Äôs combine them like in a real microservice:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="nd">@CacheConfig</span><span class="p">(</span><span class="n">cacheNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Cacheable</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">repo</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">id</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@CachePut</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#product.id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">repo</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@CacheEvict</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">repo</span><span class="p">.</span><span class="na">deleteById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Perfect pattern:</p>
<ul>
<li>
<p><code>GET</code> ‚Üí <code>@Cacheable</code></p>
</li>
<li>
<p><code>PUT/POST</code> ‚Üí <code>@CachePut</code></p>
</li>
<li>
<p><code>DELETE</code> ‚Üí <code>@CacheEvict</code></p>
</li>
</ul>
<hr />
<h1 id="interview-level-summary">üß† Interview-Level Summary<a class="headerlink" href="#interview-level-summary" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Annotation</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@EnableCaching</code></td>
<td>Enable caching system</td>
</tr>
<tr>
<td><code>@Cacheable</code></td>
<td>Cache method result (most used)</td>
</tr>
<tr>
<td><code>@CachePut</code></td>
<td>Update cache after modifying data</td>
</tr>
<tr>
<td><code>@CacheEvict</code></td>
<td>Remove cache entries</td>
</tr>
<tr>
<td><code>@Caching</code></td>
<td>Combine multiple cache rules</td>
</tr>
<tr>
<td><code>@CacheConfig</code></td>
<td>Share cache config at class level</td>
</tr>
<tr>
<td><code>@CacheResult</code> (JCache)</td>
<td>Cache result (JSR-107)</td>
</tr>
<tr>
<td><code>@CacheRemove</code> (JCache)</td>
<td>Remove entry</td>
</tr>
<tr>
<td><code>@CacheRemoveAll</code> (JCache)</td>
<td>Clear full cache</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="want-to-go-deeper">Want to go deeper?<a class="headerlink" href="#want-to-go-deeper" title="Permanent link">&para;</a></h1>
<p>I can give you next:</p>
<h3 id="caching-in-microservices-with-redis">‚úî <strong>Caching in Microservices with Redis</strong><a class="headerlink" href="#caching-in-microservices-with-redis" title="Permanent link">&para;</a></h3>
<h3 id="cache-resilience4j-integration-cache-first-fallback-later">‚úî <strong>Cache + Resilience4j integration (Cache First, Fallback Later)</strong><a class="headerlink" href="#cache-resilience4j-integration-cache-first-fallback-later" title="Permanent link">&para;</a></h3>
<h3 id="cacheable-with-feign-client">‚úî <strong>@Cacheable with Feign Client</strong><a class="headerlink" href="#cacheable-with-feign-client" title="Permanent link">&para;</a></h3>
<h3 id="caffeine-cache-expire-policy-size-limits">‚úî <strong>Caffeine Cache + Expire policy + Size limits</strong><a class="headerlink" href="#caffeine-cache-expire-policy-size-limits" title="Permanent link">&para;</a></h3>
<hr />
<h1 id="spring-aop-core-annotations-with-use-cases-snippets">‚úÖ <strong>Spring AOP ‚Äî Core Annotations (With Use Cases &amp; Snippets)</strong><a class="headerlink" href="#spring-aop-core-annotations-with-use-cases-snippets" title="Permanent link">&para;</a></h1>
<p>Spring AOP is built around <strong>cross-cutting concerns</strong> like logging, metrics, transactions, auditing, security, caching, retry, tracing, etc.</p>
<p>Below are the core annotations you must know.</p>
<hr />
<h1 id="1-aspect"><strong>1Ô∏è‚É£ <code>@Aspect</code></strong><a class="headerlink" href="#1-aspect" title="Permanent link">&para;</a></h1>
<p>Marks a class as an Aspect.</p>
<h3 id="what-it-does_2">‚úî What it does<a class="headerlink" href="#what-it-does_2" title="Permanent link">&para;</a></h3>
<p>Defines a component containing cross-cutting logic (advice + pointcuts).</p>
<h3 id="example_6">‚úî Example<a class="headerlink" href="#example_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Aspect</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LoggingAspect</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="real-world">‚úî Real-world<a class="headerlink" href="#real-world" title="Permanent link">&para;</a></h3>
<p>Commonly used to implement:</p>
<ul>
<li>
<p>Request logging</p>
</li>
<li>
<p>Performance monitoring</p>
</li>
<li>
<p>Method validation</p>
</li>
<li>
<p>Security checks</p>
</li>
<li>
<p>Multi-service tracing</p>
</li>
</ul>
<hr />
<h1 id="2-pointcut"><strong>2Ô∏è‚É£ <code>@Pointcut</code></strong><a class="headerlink" href="#2-pointcut" title="Permanent link">&para;</a></h1>
<p>Defines the <em>where</em> ‚Äî the join points.</p>
<h3 id="example_7">‚úî Example<a class="headerlink" href="#example_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Pointcut</span><span class="p">(</span><span class="s">&quot;execution(* com.nitesh.service.*.*(..))&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">serviceLayer</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="use-cases">‚úî Use Cases<a class="headerlink" href="#use-cases" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Target package/class/method patterns</p>
</li>
<li>
<p>Annotated methods (<code>@Transactional</code>, <code>@Cacheable</code>, custom annotations)</p>
</li>
<li>
<p>Exclude noisy methods</p>
</li>
</ul>
<hr />
<h1 id="3-before"><strong>3Ô∏è‚É£ <code>@Before</code></strong><a class="headerlink" href="#3-before" title="Permanent link">&para;</a></h1>
<p>Runs logic <strong>before</strong> the method executes.</p>
<h3 id="example_8">‚úî Example<a class="headerlink" href="#example_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Before</span><span class="p">(</span><span class="s">&quot;serviceLayer()&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">beforeServiceCall</span><span class="p">(</span><span class="n">JoinPoint</span><span class="w"> </span><span class="n">jp</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Before: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">jp</span><span class="p">.</span><span class="na">getSignature</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-cases_1">‚úî Use Cases<a class="headerlink" href="#use-cases_1" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Logging request params</p>
</li>
<li>
<p>Authentication/authorization pre-check</p>
</li>
<li>
<p>API input validation</p>
</li>
<li>
<p>Tracing correlation ID creation</p>
</li>
</ul>
<hr />
<h1 id="4-after"><strong>4Ô∏è‚É£ <code>@After</code></strong><a class="headerlink" href="#4-after" title="Permanent link">&para;</a></h1>
<p>Runs <strong>always after</strong> method execution (success or failure).</p>
<h3 id="example_9">‚úî Example<a class="headerlink" href="#example_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@After</span><span class="p">(</span><span class="s">&quot;serviceLayer()&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">cleanup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Cleanup logic executed&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-cases_2">‚úî Use Cases<a class="headerlink" href="#use-cases_2" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Audit trails</p>
</li>
<li>
<p>MDC cleanup</p>
</li>
<li>
<p>ThreadLocal cleanup in multithreaded apps</p>
</li>
</ul>
<hr />
<h1 id="5-afterreturning"><strong>5Ô∏è‚É£ <code>@AfterReturning</code></strong><a class="headerlink" href="#5-afterreturning" title="Permanent link">&para;</a></h1>
<p>Runs <strong>after method returns successfully</strong>.</p>
<h3 id="example_10">‚úî Example<a class="headerlink" href="#example_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@AfterReturning</span><span class="p">(</span>
<span class="w">        </span><span class="n">pointcut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;serviceLayer()&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">returning</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;result&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">afterReturn</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Method Result ‚Üí &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-cases_3">‚úî Use Cases<a class="headerlink" href="#use-cases_3" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Mask PII in logs</p>
</li>
<li>
<p>Response enrichment</p>
</li>
<li>
<p>Post-processing response</p>
</li>
<li>
<p>Cache warm-up</p>
</li>
</ul>
<hr />
<h1 id="6-afterthrowing"><strong>6Ô∏è‚É£ <code>@AfterThrowing</code></strong><a class="headerlink" href="#6-afterthrowing" title="Permanent link">&para;</a></h1>
<p>Runs <strong>when method throws an exception</strong>.</p>
<h3 id="example_11">‚úî Example<a class="headerlink" href="#example_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@AfterThrowing</span><span class="p">(</span>
<span class="w">        </span><span class="n">pointcut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;serviceLayer()&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">throwing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ex&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">logError</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ex</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-cases_4">‚úî Use Cases<a class="headerlink" href="#use-cases_4" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Centralized error logging</p>
</li>
<li>
<p>Alerting &amp; monitoring</p>
</li>
<li>
<p>Exception transformation</p>
</li>
<li>
<p>Security anomaly detection</p>
</li>
</ul>
<hr />
<h1 id="7-around-most-important"><strong>7Ô∏è‚É£ <code>@Around</code></strong> (MOST IMPORTANT)<a class="headerlink" href="#7-around-most-important" title="Permanent link">&para;</a></h1>
<p>Allows full control ‚Äî runs <strong>before &amp; after</strong> method execution.</p>
<h3 id="example_12">‚úî Example<a class="headerlink" href="#example_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Around</span><span class="p">(</span><span class="s">&quot;serviceLayer()&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">measureExecutionTime</span><span class="p">(</span><span class="n">ProceedingJoinPoint</span><span class="w"> </span><span class="n">pjp</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">();</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pjp</span><span class="p">.</span><span class="na">proceed</span><span class="p">();</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Exec Time: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;ms&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-cases_5">‚úî Use Cases<a class="headerlink" href="#use-cases_5" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Performance monitoring</p>
</li>
<li>
<p>Distributed tracing</p>
</li>
<li>
<p>Retry + fallback logic</p>
</li>
<li>
<p>Rate limiting</p>
</li>
<li>
<p>Method-level transaction wrapping</p>
</li>
<li>
<p>Correlation ID propagation</p>
</li>
</ul>
<p>This is the backbone of major frameworks like <strong>Resilience4j</strong>, <strong>Spring Transactions</strong>, <strong>Caching</strong>, etc.</p>
<hr />
<h1 id="8-declareparents-advanced-rarely-asked-but-high-value"><strong>8Ô∏è‚É£ <code>@DeclareParents</code></strong> (Advanced, rarely asked but high-value)<a class="headerlink" href="#8-declareparents-advanced-rarely-asked-but-high-value" title="Permanent link">&para;</a></h1>
<p>Introduces new interfaces to existing beans ‚Äî for mixin support.</p>
<h3 id="example_13">‚úî Example<a class="headerlink" href="#example_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Aspect</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MixinAspect</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@DeclareParents</span><span class="p">(</span>
<span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;com.nitesh.service.*+&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">defaultImpl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DefaultAuditable</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Auditable</span><span class="w"> </span><span class="n">auditable</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_2">‚úî Use Case<a class="headerlink" href="#use-case_2" title="Permanent link">&para;</a></h3>
<p>Add functionality <strong>without changing code</strong>, e.g. soft-delete capability.</p>
<hr />
<h1 id="9-custom-annotation-for-aop-driven-aspects"><strong>9Ô∏è‚É£ Custom Annotation for AOP-driven Aspects</strong><a class="headerlink" href="#9-custom-annotation-for-aop-driven-aspects" title="Permanent link">&para;</a></h1>
<p>This is how real-world AOP is used.</p>
<h3 id="example-custom-annotation">‚úî Example Custom Annotation<a class="headerlink" href="#example-custom-annotation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Target</span><span class="p">(</span><span class="n">ElementType</span><span class="p">.</span><span class="na">METHOD</span><span class="p">)</span>
<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="nd">@interface</span><span class="w"> </span><span class="n">TrackExecution</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="aspect">‚úî Aspect<a class="headerlink" href="#aspect" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Around</span><span class="p">(</span><span class="s">&quot;@annotation(com.nitesh.TrackExecution)&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">track</span><span class="p">(</span><span class="n">ProceedingJoinPoint</span><span class="w"> </span><span class="n">pjp</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">nanoTime</span><span class="p">();</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pjp</span><span class="p">.</span><span class="na">proceed</span><span class="p">();</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">nanoTime</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Time : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-cases_6">‚úî Use Cases<a class="headerlink" href="#use-cases_6" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>@Audit</p>
</li>
<li>
<p>@Trace</p>
</li>
<li>
<p>@Secure</p>
</li>
<li>
<p>@Retry</p>
</li>
<li>
<p>@RateLimit</p>
</li>
<li>
<p>@MaskSensitiveData</p>
</li>
<li>
<p>@DecryptData / @EncryptData</p>
</li>
</ul>
<hr />
<h1 id="typical-interview-questions-youll-face">üéØ <strong>Typical Interview Questions You‚Äôll Face</strong><a class="headerlink" href="#typical-interview-questions-youll-face" title="Permanent link">&para;</a></h1>
<ol>
<li>
<p>Difference between <code>@Before</code> and <code>@Around</code>?</p>
</li>
<li>
<p>Why is <code>@Around</code> most powerful?</p>
</li>
<li>
<p>How Spring AOP works under the hood (Proxies, JDK/CGLIB)?</p>
</li>
<li>
<p>How to apply AOP to only annotated methods?</p>
</li>
<li>
<p>How to use custom annotations to implement cross-cutting behavior?</p>
</li>
<li>
<p>What is the difference between AspectJ and Spring AOP?</p>
</li>
<li>
<p>Limitations of Spring AOP (method-level, proxy-based).</p>
</li>
</ol>
<p>If you want, I can explain <strong>all interview questions with full answers</strong> too.</p>
<hr />
<h1 id="want-to-go-to-the-next-set">Want to go to the next set?<a class="headerlink" href="#want-to-go-to-the-next-set" title="Permanent link">&para;</a></h1>
<p>Options:</p>
<p>‚úî Spring Boot Core Annotations<br />
‚úî Spring Security Annotations<br />
‚úî Spring Cloud / Resilience4j Annotations<br />
‚úî Spring WebFlux-specific Annotations<br />
‚úî Jackson / JSON annotations<br />
‚úî Lombok annotations<br />
‚úî Testing annotations (JUnit + Mockito)</p>
<hr />
<h1 id="lombok-annotations-the-only-ones-that-matter-with-examples-use-cases">‚úÖ <strong>Lombok Annotations ‚Äî The Only Ones That Matter (With Examples &amp; Use Cases)</strong><a class="headerlink" href="#lombok-annotations-the-only-ones-that-matter-with-examples-use-cases" title="Permanent link">&para;</a></h1>
<p>Lombok reduces boilerplate ‚Äî getters, setters, constructors, builders, logging, equals/hashCode, and more.<br />
But in interviews, you must show you understand both <strong>functionality and hidden behaviors</strong> (equals, immutability, builder cost, unsafe usages).</p>
<hr />
<h1 id="1-getter-setter"><strong>1Ô∏è‚É£ @Getter / @Setter</strong><a class="headerlink" href="#1-getter-setter" title="Permanent link">&para;</a></h1>
<h3 id="use">‚úî Use<a class="headerlink" href="#use" title="Permanent link">&para;</a></h3>
<p>Generates getter/setter methods automatically.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Getter</span>
<span class="nd">@Setter</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="real-world-use">‚úî Real-World Use<a class="headerlink" href="#real-world-use" title="Permanent link">&para;</a></h3>
<p>POJOs, request/response DTOs, config classes, entity models.</p>
<h3 id="avoid">‚ö† Avoid<a class="headerlink" href="#avoid" title="Permanent link">&para;</a></h3>
<p>Using <code>@Setter</code> on <code>@Entity</code> unless intentional ‚Äî it breaks immutability and domain integrity.</p>
<hr />
<h1 id="2-tostring"><strong>2Ô∏è‚É£ @ToString</strong><a class="headerlink" href="#2-tostring" title="Permanent link">&para;</a></h1>
<h3 id="use_1">‚úî Use<a class="headerlink" href="#use_1" title="Permanent link">&para;</a></h3>
<p>Generates a <code>toString()</code> implementation.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@ToString</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Order</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_3">‚úî Use Case<a class="headerlink" href="#use-case_3" title="Permanent link">&para;</a></h3>
<p>Logging, debugging.</p>
<h3 id="danger">‚ö† Danger<a class="headerlink" href="#danger" title="Permanent link">&para;</a></h3>
<p>Never log sensitive fields (password, tokens, PII).<br />
Use:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@ToString.Exclude</span>
<span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">;</span>
</code></pre></div>
<hr />
<h1 id="3-equalsandhashcode"><strong>3Ô∏è‚É£ @EqualsAndHashCode</strong><a class="headerlink" href="#3-equalsandhashcode" title="Permanent link">&para;</a></h1>
<h3 id="use_2">‚úî Use<a class="headerlink" href="#use_2" title="Permanent link">&para;</a></h3>
<p>Generates <code>equals()</code> and <code>hashCode()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EqualsAndHashCode</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Long</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="danger_1">‚ö† Danger<a class="headerlink" href="#danger_1" title="Permanent link">&para;</a></h3>
<p>Avoid using on entities with mutable fields ‚Üí can break Sets/Maps &amp; Hibernate identity.</p>
<p>Use:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EqualsAndHashCode</span><span class="p">(</span><span class="n">onlyExplicitlyIncluded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</code></pre></div>
<hr />
<h1 id="4-noargsconstructor-allargsconstructor-requiredargsconstructor"><strong>4Ô∏è‚É£ @NoArgsConstructor / @AllArgsConstructor / @RequiredArgsConstructor</strong><a class="headerlink" href="#4-noargsconstructor-allargsconstructor-requiredargsconstructor" title="Permanent link">&para;</a></h1>
<p>Used for autowiring, JPA entities, test data creation.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@NonNull</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_4">‚úî Use Case<a class="headerlink" href="#use-case_4" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>JPA requires a <code>@NoArgsConstructor</code></p>
</li>
<li>
<p>Spring requires a constructor for DI (<code>@RequiredArgsConstructor</code> is perfect)</p>
</li>
</ul>
<h3 id="best-practice">‚≠ê Best Practice<a class="headerlink" href="#best-practice" title="Permanent link">&para;</a></h3>
<p>In Spring Boot, always prefer:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RequiredArgsConstructor</span>
<span class="kd">class</span> <span class="nc">Service</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">repo</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="5-builder-one-of-the-most-used"><strong>5Ô∏è‚É£ @Builder</strong> (One of the most used)<a class="headerlink" href="#5-builder-one-of-the-most-used" title="Permanent link">&para;</a></h1>
<h3 id="use_3">‚úî Use<a class="headerlink" href="#use_3" title="Permanent link">&para;</a></h3>
<p>Creates a builder pattern for complex object construction.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="n">Book</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Book</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">             </span><span class="p">.</span><span class="na">title</span><span class="p">(</span><span class="s">&quot;Java&quot;</span><span class="p">)</span>
<span class="w">             </span><span class="p">.</span><span class="na">price</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="w">             </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
</code></pre></div>
<h3 id="real-world-use_1">‚úî Real-World Use<a class="headerlink" href="#real-world-use_1" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Config classes</p>
</li>
<li>
<p>Immutable DTO creation</p>
</li>
<li>
<p>Large request bodies</p>
</li>
<li>
<p>Kafka message building</p>
</li>
<li>
<p>Domain model creation in clean architecture</p>
</li>
</ul>
<h3 id="beware">‚ö† Beware<a class="headerlink" href="#beware" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Builder is <strong>slower</strong> than constructors for high-performance or small objects.</p>
</li>
<li>
<p>Never use it for <strong>hot loops</strong> or <strong>millions of object creations</strong>.</p>
</li>
</ul>
<hr />
<h1 id="6-data-very-powerful-but-dangerous"><strong>6Ô∏è‚É£ @Data</strong> (VERY powerful but dangerous)<a class="headerlink" href="#6-data-very-powerful-but-dangerous" title="Permanent link">&para;</a></h1>
<p>Equivalent to:</p>
<div class="highlight"><pre><span></span><code>@Getter + @Setter + @ToString + @EqualsAndHashCode + @RequiredArgsConstructor
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nd">@Data</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_5">‚úî Use Case<a class="headerlink" href="#use-case_5" title="Permanent link">&para;</a></h3>
<p>DTOs, value objects.</p>
<h3 id="avoid-data-on">‚ö† Avoid <code>@Data</code> on:<a class="headerlink" href="#avoid-data-on" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>JPA entities ‚Üí equals/hashCode ‚Üí infinite loops, identity issues</p>
</li>
<li>
<p>Aggregates containing sensitive fields</p>
</li>
<li>
<p>High-security models</p>
</li>
</ul>
<p>Use <code>@Data</code> only when safe.</p>
<hr />
<h1 id="7-value-immutable-dto"><strong>7Ô∏è‚É£ @Value</strong> (Immutable DTO)<a class="headerlink" href="#7-value-immutable-dto" title="Permanent link">&para;</a></h1>
<p>Immutable version of <code>@Data</code> (all fields <code>private final</code>).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Value</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ImmutableConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_6">‚úî Use Case<a class="headerlink" href="#use-case_6" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Thread-safe configuration</p>
</li>
<li>
<p>Messages</p>
</li>
<li>
<p>Kafka events</p>
</li>
<li>
<p>Cache keys</p>
</li>
</ul>
<hr />
<h1 id="8-slf4j-log4j2-commonslog"><strong>8Ô∏è‚É£ @Slf4j / @Log4j2 / @CommonsLog</strong><a class="headerlink" href="#8-slf4j-log4j2-commonslog" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code><span class="nd">@Slf4j</span>
<span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PaymentService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">pay</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">log</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Payment started...&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_7">‚úî Use Case<a class="headerlink" href="#use-case_7" title="Permanent link">&para;</a></h3>
<p>Logging without manual logger creation.</p>
<hr />
<h1 id="9-sneakythrows"><strong>9Ô∏è‚É£ @SneakyThrows</strong><a class="headerlink" href="#9-sneakythrows" title="Permanent link">&para;</a></h1>
<p>Allows throwing checked exceptions without declaring them.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SneakyThrows</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">risky</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s">&quot;Boom&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="not-recommended-in-production">‚ö† Not recommended in production<a class="headerlink" href="#not-recommended-in-production" title="Permanent link">&para;</a></h3>
<p>Hard to read<br />
Breaks contract<br />
Confuses teammates</p>
<p>Use only for tests or temporary code.</p>
<hr />
<h1 id="cleanup"><strong>üîü @Cleanup</strong><a class="headerlink" href="#cleanup" title="Permanent link">&para;</a></h1>
<p>Auto-closes resources (like try-with-resources).</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">read</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Cleanup</span><span class="w"> </span><span class="n">FileInputStream</span><span class="w"> </span><span class="n">fis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;data.txt&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Not commonly used now due to <code>try-with-resources</code>.</p>
<hr />
<h1 id="11-nonnull"><strong>1Ô∏è‚É£1Ô∏è‚É£ @NonNull</strong><a class="headerlink" href="#11-nonnull" title="Permanent link">&para;</a></h1>
<p>Adds null-check to constructor/setter parameters.</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@NonNull</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_8">‚úî Use Case<a class="headerlink" href="#use-case_8" title="Permanent link">&para;</a></h3>
<p>Fail fast on illegal input.</p>
<hr />
<h1 id="12-superbuilder"><strong>1Ô∏è‚É£2Ô∏è‚É£ @SuperBuilder</strong><a class="headerlink" href="#12-superbuilder" title="Permanent link">&para;</a></h1>
<p>Builder support for inheritance.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SuperBuilder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@SuperBuilder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Admin</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="use-case_9">‚úî Use Case<a class="headerlink" href="#use-case_9" title="Permanent link">&para;</a></h3>
<p>Hierarchical DTOs, inheritance-heavy models.</p>
<hr />
<h1 id="13-accessorschain-true"><strong>1Ô∏è‚É£3Ô∏è‚É£ @Accessors(chain = true)</strong><a class="headerlink" href="#13-accessorschain-true" title="Permanent link">&para;</a></h1>
<p>Fluent API style setters.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Accessors</span><span class="p">(</span><span class="n">chain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="nd">@Getter</span><span class="w"> </span><span class="nd">@Setter</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="n">user</span><span class="p">.</span><span class="na">setName</span><span class="p">(</span><span class="s">&quot;Ram&quot;</span><span class="p">).</span><span class="na">setAge</span><span class="p">(</span><span class="mi">28</span><span class="p">);</span>
</code></pre></div>
<hr />
<h1 id="interview-level-best-practices">üöÄ Interview-Level Best Practices<a class="headerlink" href="#interview-level-best-practices" title="Permanent link">&para;</a></h1>
<h3 id="when-to-avoid-lombok">‚úî When to avoid Lombok?<a class="headerlink" href="#when-to-avoid-lombok" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>For shared public APIs</p>
</li>
<li>
<p>For deeply nested inheritance</p>
</li>
<li>
<p>When reflection/bytecode tools dislike Lombok</p>
</li>
</ul>
<h3 id="why-some-companies-ban-data">‚úî Why some companies ban <code>@Data</code>?<a class="headerlink" href="#why-some-companies-ban-data" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Equals/hashCode break entity identity</p>
</li>
<li>
<p>Setter generation breaks immutability</p>
</li>
<li>
<p>Harder debugging</p>
</li>
<li>
<p>Security risk (toString leaks fields)</p>
</li>
</ul>
<h3 id="most-common-lombok-annotations-in-spring-boot-microservices">‚úî Most common Lombok annotations in Spring Boot microservices<a class="headerlink" href="#most-common-lombok-annotations-in-spring-boot-microservices" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>@Slf4j</code></p>
</li>
<li>
<p><code>@RequiredArgsConstructor</code></p>
</li>
<li>
<p><code>@Getter</code></p>
</li>
<li>
<p><code>@Builder</code></p>
</li>
<li>
<p><code>@Value</code></p>
</li>
<li>
<p><code>@Data</code> (DTO only)</p>
</li>
</ul>
<hr />
<h1 id="want-next-in-the-series">Want next in the series?<a class="headerlink" href="#want-next-in-the-series" title="Permanent link">&para;</a></h1>
<p>Choose your next category:</p>
<p>‚úî <strong>Jackson JSON annotations</strong><br />
‚úî <strong>Spring Security annotations</strong><br />
‚úî <strong>Spring Cloud + Resilience4j annotations</strong><br />
‚úî <strong>Testing annotations (JUnit, Mockito)</strong><br />
‚úî <strong>Controller &amp; REST annotations</strong></p>
<p>Here is a <strong>clean, production-grade, interview-focused guide</strong> on the most important <strong>JUnit 5 + Mockito annotations</strong> that every Spring Boot / microservices engineer must know.</p>
<p>This is the set of annotations you actually use in enterprise codebases, along with pitfalls, best practices, and real project examples.</p>
<hr />
<h1 id="junit-5-annotations-core-spring-boot-testing">üöÄ <strong>JUnit 5 Annotations (Core + Spring Boot Testing)</strong><a class="headerlink" href="#junit-5-annotations-core-spring-boot-testing" title="Permanent link">&para;</a></h1>
<hr />
<h1 id="1-test"><strong>1Ô∏è‚É£ @Test</strong><a class="headerlink" href="#1-test" title="Permanent link">&para;</a></h1>
<p>Marks a method as a test case.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Test</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">shouldCalculateTotal</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="na">calculate</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_10">‚úî Use Case<a class="headerlink" href="#use-case_10" title="Permanent link">&para;</a></h3>
<p>Basic unit tests.</p>
<hr />
<h1 id="2-beforeeach-aftereach"><strong>2Ô∏è‚É£ @BeforeEach / @AfterEach</strong><a class="headerlink" href="#2-beforeeach-aftereach" title="Permanent link">&para;</a></h1>
<p>Runs before/after <strong>each test method</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@BeforeEach</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OrderService</span><span class="p">();</span>
<span class="p">}</span>

<span class="nd">@AfterEach</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">cleanup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Test completed&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_11">‚úî Use Case<a class="headerlink" href="#use-case_11" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Creating fresh test objects</p>
</li>
<li>
<p>Resetting mocks</p>
</li>
<li>
<p>Cleanup of temp data</p>
</li>
</ul>
<hr />
<h1 id="3-beforeall-afterall"><strong>3Ô∏è‚É£ @BeforeAll / @AfterAll</strong><a class="headerlink" href="#3-beforeall-afterall" title="Permanent link">&para;</a></h1>
<p>Runs once per class (static unless using @TestInstance).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@BeforeAll</span>
<span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setupAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>

<span class="nd">@AfterAll</span>
<span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">tearDownAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="use_4">‚úî Use<a class="headerlink" href="#use_4" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Connecting to test DB</p>
</li>
<li>
<p>Loading configuration</p>
</li>
<li>
<p>Expensive setup shared across tests</p>
</li>
</ul>
<hr />
<h1 id="4-displayname"><strong>4Ô∏è‚É£ @DisplayName</strong><a class="headerlink" href="#4-displayname" title="Permanent link">&para;</a></h1>
<p>Human-friendly test names.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;Should apply discount when user is premium&quot;</span><span class="p">)</span>
<span class="nd">@Test</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">discountTest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="5-nested"><strong>5Ô∏è‚É£ @Nested</strong><a class="headerlink" href="#5-nested" title="Permanent link">&para;</a></h1>
<p>For grouping test cases logically.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Nested</span>
<span class="kd">class</span> <span class="nc">WhenUserIsPremium</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Test</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldApplyDiscount</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="6-repeatedtest"><strong>6Ô∏è‚É£ @RepeatedTest</strong><a class="headerlink" href="#6-repeatedtest" title="Permanent link">&para;</a></h1>
<p>Runs a test multiple times.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RepeatedTest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">stressTest</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<hr />
<h1 id="7-parameterizedtest-advanced-interview-favorite"><strong>7Ô∏è‚É£ @ParameterizedTest</strong> (Advanced + Interview Favorite)<a class="headerlink" href="#7-parameterizedtest-advanced-interview-favorite" title="Permanent link">&para;</a></h1>
<p>Allows testing with multiple inputs.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@ParameterizedTest</span>
<span class="nd">@ValueSource</span><span class="p">(</span><span class="n">strings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;xyz&quot;</span><span class="p">})</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">testValues</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Also supports:</p>
<ul>
<li>
<p>@CsvSource</p>
</li>
<li>
<p>@CsvFileSource</p>
</li>
<li>
<p>@MethodSource</p>
</li>
</ul>
<hr />
<h1 id="8-testinstance"><strong>8Ô∏è‚É£ @TestInstance</strong><a class="headerlink" href="#8-testinstance" title="Permanent link">&para;</a></h1>
<p>Defines lifecycle of test instance.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@TestInstance</span><span class="p">(</span><span class="n">TestInstance</span><span class="p">.</span><span class="na">Lifecycle</span><span class="p">.</span><span class="na">PER_CLASS</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">ConfigTest</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="spring-boot-testing-annotations"><strong>Spring Boot Testing Annotations</strong><a class="headerlink" href="#spring-boot-testing-annotations" title="Permanent link">&para;</a></h1>
<hr />
<h1 id="9-springboottest"><strong>9Ô∏è‚É£ @SpringBootTest</strong><a class="headerlink" href="#9-springboottest" title="Permanent link">&para;</a></h1>
<p>Loads the full Spring context.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootTest</span>
<span class="kd">class</span> <span class="nc">OrderServiceTest</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="use-case_12">‚úî Use Case<a class="headerlink" href="#use-case_12" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Integration tests</p>
</li>
<li>
<p>Testing full wiring</p>
</li>
<li>
<p>Hitting repositories + services</p>
</li>
</ul>
<h3 id="avoid_1">‚ö† Avoid<a class="headerlink" href="#avoid_1" title="Permanent link">&para;</a></h3>
<p>Using it for simple unit tests ‚Üí slow.</p>
<hr />
<h1 id="webmvctest"><strong>üîü @WebMvcTest</strong><a class="headerlink" href="#webmvctest" title="Permanent link">&para;</a></h1>
<p>Loads only controller layer + MVC beans.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@WebMvcTest</span><span class="p">(</span><span class="n">OrderController</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">OrderControllerTest</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="use-case_13">‚úî Use Case<a class="headerlink" href="#use-case_13" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Testing Controllers in isolation</p>
</li>
<li>
<p>Mocking service layer</p>
</li>
<li>
<p>Fast HTTP layer tests</p>
</li>
</ul>
<hr />
<h1 id="11-datajpatest"><strong>1Ô∏è‚É£1Ô∏è‚É£ @DataJpaTest</strong><a class="headerlink" href="#11-datajpatest" title="Permanent link">&para;</a></h1>
<p>Loads only JPA + Hibernate + DB-related beans.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@DataJpaTest</span>
<span class="kd">class</span> <span class="nc">UserRepositoryTest</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="use-case_14">‚úî Use Case<a class="headerlink" href="#use-case_14" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Testing repositories</p>
</li>
<li>
<p>Verifying DB queries</p>
</li>
<li>
<p>Using in-memory DB (H2)</p>
</li>
</ul>
<hr />
<h1 id="12-mockbean"><strong>1Ô∏è‚É£2Ô∏è‚É£ @MockBean</strong><a class="headerlink" href="#12-mockbean" title="Permanent link">&para;</a></h1>
<p>Creates a mock in Spring context.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@MockBean</span>
<span class="kd">private</span><span class="w"> </span><span class="n">PaymentService</span><span class="w"> </span><span class="n">paymentService</span><span class="p">;</span>
</code></pre></div>
<h3 id="use-case_15">‚úî Use Case<a class="headerlink" href="#use-case_15" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Replace real beans with mocks in @SpringBootTest / @WebMvcTest</p>
</li>
<li>
<p>Control behavior of dependencies</p>
</li>
</ul>
<hr />
<h1 id="13-autowired-in-tests"><strong>1Ô∏è‚É£3Ô∏è‚É£ @Autowired (in tests)</strong><a class="headerlink" href="#13-autowired-in-tests" title="Permanent link">&para;</a></h1>
<p>Inject test subject or mocked dependencies.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Autowired</span>
<span class="kd">private</span><span class="w"> </span><span class="n">OrderController</span><span class="w"> </span><span class="n">controller</span><span class="p">;</span>
</code></pre></div>
<hr />
<h1 id="mockito-annotations-core-unit-testing">‚ö° Mockito Annotations (Core Unit Testing)<a class="headerlink" href="#mockito-annotations-core-unit-testing" title="Permanent link">&para;</a></h1>
<hr />
<h1 id="14-mock"><strong>1Ô∏è‚É£4Ô∏è‚É£ @Mock</strong><a class="headerlink" href="#14-mock" title="Permanent link">&para;</a></h1>
<p>Creates a pure Mockito mock.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Mock</span>
<span class="kd">private</span><span class="w"> </span><span class="n">PaymentGateway</span><span class="w"> </span><span class="n">gateway</span><span class="p">;</span>
</code></pre></div>
<h3 id="use-inside">‚úî Use inside<a class="headerlink" href="#use-inside" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Unit tests</p>
</li>
<li>
<p>Without Spring context</p>
</li>
<li>
<p>Fastest possible tests</p>
</li>
</ul>
<hr />
<h1 id="15-injectmocks"><strong>1Ô∏è‚É£5Ô∏è‚É£ @InjectMocks</strong><a class="headerlink" href="#15-injectmocks" title="Permanent link">&para;</a></h1>
<p>Injects mocks into the class-under-test.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@InjectMocks</span>
<span class="kd">private</span><span class="w"> </span><span class="n">PaymentService</span><span class="w"> </span><span class="n">paymentService</span><span class="p">;</span>
</code></pre></div>
<h3 id="use-case_16">‚úî Use Case<a class="headerlink" href="#use-case_16" title="Permanent link">&para;</a></h3>
<p>Classic unit testing:</p>
<ul>
<li>
<p>No Spring</p>
</li>
<li>
<p>No context loading</p>
</li>
<li>
<p>Pure business logic</p>
</li>
</ul>
<hr />
<h1 id="16-captor"><strong>1Ô∏è‚É£6Ô∏è‚É£ @Captor</strong><a class="headerlink" href="#16-captor" title="Permanent link">&para;</a></h1>
<p>Captures arguments passed to mocked methods.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Captor</span>
<span class="n">ArgumentCaptor</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="n">orderCaptor</span><span class="p">;</span>
</code></pre></div>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="n">verify</span><span class="p">(</span><span class="n">repo</span><span class="p">).</span><span class="na">save</span><span class="p">(</span><span class="n">orderCaptor</span><span class="p">.</span><span class="na">capture</span><span class="p">());</span>
<span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">orderCaptor</span><span class="p">.</span><span class="na">getValue</span><span class="p">().</span><span class="na">getId</span><span class="p">());</span>
</code></pre></div>
<h3 id="use-case_17">‚úî Use Case<a class="headerlink" href="#use-case_17" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Verify arguments</p>
</li>
<li>
<p>Deep test validation</p>
</li>
<li>
<p>Verify transformations</p>
</li>
</ul>
<hr />
<h1 id="17-spy"><strong>1Ô∏è‚É£7Ô∏è‚É£ @Spy</strong><a class="headerlink" href="#17-spy" title="Permanent link">&para;</a></h1>
<p>Partial mocks (real methods + stubbing).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Spy</span>
<span class="kd">private</span><span class="w"> </span><span class="n">InvoiceCalculator</span><span class="w"> </span><span class="n">calculator</span><span class="p">;</span>
</code></pre></div>
<h3 id="use_5">‚úî Use<a class="headerlink" href="#use_5" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>When you want real behavior but override some specific parts</p>
</li>
<li>
<p>Decorator pattern testing</p>
</li>
</ul>
<h3 id="avoid_2">‚ö† Avoid<a class="headerlink" href="#avoid_2" title="Permanent link">&para;</a></h3>
<p>Overusing @Spy ‚Äî it often signals design issues.</p>
<hr />
<h1 id="18-extendwithmockitoextensionclass"><strong>1Ô∏è‚É£8Ô∏è‚É£ @ExtendWith(MockitoExtension.class)</strong><a class="headerlink" href="#18-extendwithmockitoextensionclass" title="Permanent link">&para;</a></h1>
<p>Enables Mockito for JUnit 5.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">MockitoExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">OrderServiceTest</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="19-mockstatic"><strong>1Ô∏è‚É£9Ô∏è‚É£ @MockStatic</strong><a class="headerlink" href="#19-mockstatic" title="Permanent link">&para;</a></h1>
<p>For mocking static methods (Mockito 3.4+).</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">MockedStatic</span><span class="o">&lt;</span><span class="n">UUID</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mocked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockStatic</span><span class="p">(</span><span class="n">UUID</span><span class="p">.</span><span class="na">class</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mocked</span><span class="p">.</span><span class="na">when</span><span class="p">(</span><span class="n">UUID</span><span class="p">::</span><span class="n">randomUUID</span><span class="p">).</span><span class="na">thenReturn</span><span class="p">(</span><span class="n">fixedUuid</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_18">‚úî Use Case<a class="headerlink" href="#use-case_18" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Static factory utilities</p>
</li>
<li>
<p>UUID generation</p>
</li>
<li>
<p>Time/date static calls</p>
</li>
</ul>
<h3 id="use-carefully">‚ö† Use carefully<a class="headerlink" href="#use-carefully" title="Permanent link">&para;</a></h3>
<p>Static mocking is powerful but costs isolation.</p>
<hr />
<h1 id="real-world-spring-boot-testing-examples">üéØ Real-World Spring Boot Testing Examples<a class="headerlink" href="#real-world-spring-boot-testing-examples" title="Permanent link">&para;</a></h1>
<hr />
<h2 id="unit-test-fastest-mockito-junit"><strong>Unit Test (Fastest) ‚Äî Mockito + JUnit</strong><a class="headerlink" href="#unit-test-fastest-mockito-junit" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">MockitoExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">PaymentServiceTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Mock</span><span class="w"> </span><span class="n">PaymentGateway</span><span class="w"> </span><span class="n">gateway</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@InjectMocks</span><span class="w"> </span><span class="n">PaymentService</span><span class="w"> </span><span class="n">service</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldPaySuccessfully</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">when</span><span class="p">(</span><span class="n">gateway</span><span class="p">.</span><span class="na">charge</span><span class="p">(</span><span class="n">anyDouble</span><span class="p">())).</span><span class="na">thenReturn</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="na">pay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>

<span class="w">        </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="n">verify</span><span class="p">(</span><span class="n">gateway</span><span class="p">).</span><span class="na">charge</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="controller-test-webmvctest"><strong>Controller Test ‚Äî WebMvcTest</strong><a class="headerlink" href="#controller-test-webmvctest" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@WebMvcTest</span><span class="p">(</span><span class="n">OrderController</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">OrderControllerTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span><span class="w"> </span><span class="n">MockMvc</span><span class="w"> </span><span class="n">mvc</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@MockBean</span><span class="w"> </span><span class="n">OrderService</span><span class="w"> </span><span class="n">service</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldPlaceOrder</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">when</span><span class="p">(</span><span class="n">service</span><span class="p">.</span><span class="na">placeOrder</span><span class="p">()).</span><span class="na">thenReturn</span><span class="p">(</span><span class="s">&quot;OK&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="n">mvc</span><span class="p">.</span><span class="na">perform</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/orders&quot;</span><span class="p">))</span>
<span class="w">           </span><span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">status</span><span class="p">().</span><span class="na">isOk</span><span class="p">())</span>
<span class="w">           </span><span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">content</span><span class="p">().</span><span class="na">string</span><span class="p">(</span><span class="s">&quot;OK&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="repository-test-datajpatest"><strong>Repository Test ‚Äî DataJpaTest</strong><a class="headerlink" href="#repository-test-datajpatest" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@DataJpaTest</span>
<span class="kd">class</span> <span class="nc">UserRepositoryTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">repo</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldSaveUser</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repo</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">User</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ram&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">assertNotNull</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="top-interview-questions-on-junit-mockito">üé§ Top Interview Questions on JUnit + Mockito<a class="headerlink" href="#top-interview-questions-on-junit-mockito" title="Permanent link">&para;</a></h1>
<p>You will 100% face these:</p>
<h3 id="difference-between-mock-mockbean-and-spy">‚úî Difference between @Mock, @MockBean, and @Spy?<a class="headerlink" href="#difference-between-mock-mockbean-and-spy" title="Permanent link">&para;</a></h3>
<h3 id="why-use-extendwithmockitoextensionclass">‚úî Why use @ExtendWith(MockitoExtension.class)?<a class="headerlink" href="#why-use-extendwithmockitoextensionclass" title="Permanent link">&para;</a></h3>
<h3 id="what-is-the-difference-between-springboottest-and-webmvctest">‚úî What is the difference between @SpringBootTest and @WebMvcTest?<a class="headerlink" href="#what-is-the-difference-between-springboottest-and-webmvctest" title="Permanent link">&para;</a></h3>
<h3 id="why-use-datajpatest-for-repository-testing">‚úî Why use @DataJpaTest for repository testing?<a class="headerlink" href="#why-use-datajpatest-for-repository-testing" title="Permanent link">&para;</a></h3>
<h3 id="why-avoid-springboottest-for-unit-tests">‚úî Why avoid @SpringBootTest for unit tests?<a class="headerlink" href="#why-avoid-springboottest-for-unit-tests" title="Permanent link">&para;</a></h3>
<h3 id="how-does-injectmocks-work-internally">‚úî How does @InjectMocks work internally?<a class="headerlink" href="#how-does-injectmocks-work-internally" title="Permanent link">&para;</a></h3>
<h3 id="when-to-use-captor">‚úî When to use @Captor?<a class="headerlink" href="#when-to-use-captor" title="Permanent link">&para;</a></h3>
<h3 id="how-to-mock-static-functions">‚úî How to mock static functions?<a class="headerlink" href="#how-to-mock-static-functions" title="Permanent link">&para;</a></h3>
<h3 id="how-to-test-exceptions">‚úî How to test exceptions?<a class="headerlink" href="#how-to-test-exceptions" title="Permanent link">&para;</a></h3>
<p>If you want, I can give <strong>complete answers for each question</strong> like interview responses.</p>
<hr />
<h1 id="next-topics-available">Next Topics Available<a class="headerlink" href="#next-topics-available" title="Permanent link">&para;</a></h1>
<p>Choose your next topic:</p>
<p>‚úî Spring Security annotations<br />
‚úî Jackson JSON annotations<br />
‚úî Spring Cloud + Resilience4j annotations<br />
‚úî REST Controller annotations<br />
‚úî Microservices-specific annotations<br />
‚úî Testcontainers annotations</p>
<p>Here is the <strong>ultimate, production-grade, interview-oriented guide</strong> to the <strong>most important Spring Security annotations</strong> used in real microservices and enterprise Spring Boot applications.</p>
<p>This covers:<br />
‚úî Core annotations<br />
‚úî Method-level security<br />
‚úî Web security<br />
‚úî OAuth2/JWT-related annotations<br />
‚úî Real-world usage patterns<br />
‚úî Common interview questions<br />
‚úî Best practices and pitfalls</p>
<hr />
<h1 id="spring-security-annotations-core-advanced">üöÄ <strong>SPRING SECURITY ANNOTATIONS ‚Äî CORE + ADVANCED</strong><a class="headerlink" href="#spring-security-annotations-core-advanced" title="Permanent link">&para;</a></h1>
<hr />
<h1 id="1-enablewebsecurity"><strong>1Ô∏è‚É£ @EnableWebSecurity</strong><a class="headerlink" href="#1-enablewebsecurity" title="Permanent link">&para;</a></h1>
<p>Enables Spring Security‚Äôs web security support.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfig</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="use-case_19">‚úî Use Case<a class="headerlink" href="#use-case_19" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Base annotation for enabling Spring Security</p>
</li>
<li>
<p>Activates filter chain (SecurityFilterChain)</p>
</li>
</ul>
<h3 id="note">‚ö† Note<a class="headerlink" href="#note" title="Permanent link">&para;</a></h3>
<p>Since Spring Boot 3, you configure security using a <code>SecurityFilterChain</code> bean, not WebSecurityConfigurerAdapter.</p>
<hr />
<h1 id="2-configuration-security-configuration"><strong>2Ô∏è‚É£ @Configuration (Security Configuration)</strong><a class="headerlink" href="#2-configuration-security-configuration" title="Permanent link">&para;</a></h1>
<p>You always combine:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="nd">@EnableMethodSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfig</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="3-enablemethodsecurity-spring-boot-3-recommended"><strong>3Ô∏è‚É£ @EnableMethodSecurity</strong> (Spring Boot 3+ Recommended)<a class="headerlink" href="#3-enablemethodsecurity-spring-boot-3-recommended" title="Permanent link">&para;</a></h1>
<p>Used for <strong>@PreAuthorize</strong>, <strong>@PostAuthorize</strong>, <strong>@Secured</strong>, etc.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableMethodSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfig</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="use-case_20">‚úî Use Case<a class="headerlink" href="#use-case_20" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Method-level authorization</p>
</li>
<li>
<p>Fine-grained access control</p>
</li>
</ul>
<hr />
<h1 id="4-preauthorize"><strong>4Ô∏è‚É£ @PreAuthorize</strong><a class="headerlink" href="#4-preauthorize" title="Permanent link">&para;</a></h1>
<p>Runs <em>before</em> method execution ‚Üí Expression-based.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasRole(&#39;ADMIN&#39;)&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteUser</span><span class="p">(</span><span class="n">Long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="supported-expressions">‚úî Supported Expressions<a class="headerlink" href="#supported-expressions" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>hasRole('ADMIN')</code></p>
</li>
<li>
<p><code>hasAuthority('READ_PRIVILEGE')</code></p>
</li>
<li>
<p><code>authentication.principal.username == #username</code></p>
</li>
<li>
<p><code>#id == authentication.principal.id</code></p>
</li>
</ul>
<h3 id="real-uses">‚úî Real Uses<a class="headerlink" href="#real-uses" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Service-layer restrictions</p>
</li>
<li>
<p>Controller endpoint permissions</p>
</li>
<li>
<p>Multi-tenant access checks</p>
</li>
</ul>
<h3 id="powerful-example">‚≠ê Powerful example:<a class="headerlink" href="#powerful-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;#userId == authentication.principal.userId&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">UserProfile</span><span class="w"> </span><span class="nf">getProfile</span><span class="p">(</span><span class="n">Long</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="5-postauthorize"><strong>5Ô∏è‚É£ @PostAuthorize</strong><a class="headerlink" href="#5-postauthorize" title="Permanent link">&para;</a></h1>
<p>Runs <em>after</em> method execution ‚Üí Can validate returned object.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PostAuthorize</span><span class="p">(</span><span class="s">&quot;returnObject.owner == authentication.name&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Document</span><span class="w"> </span><span class="nf">getDocument</span><span class="p">(</span><span class="n">Long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="use-case_21">‚úî Use Case<a class="headerlink" href="#use-case_21" title="Permanent link">&para;</a></h3>
<p>Object-level access control.</p>
<hr />
<h1 id="6-secured"><strong>6Ô∏è‚É£ @Secured</strong><a class="headerlink" href="#6-secured" title="Permanent link">&para;</a></h1>
<p>Older annotation, role-based only.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Secured</span><span class="p">(</span><span class="s">&quot;ROLE_ADMIN&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">manage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="use-case_22">‚úî Use Case<a class="headerlink" href="#use-case_22" title="Permanent link">&para;</a></h3>
<p>Legacy compatibility.</p>
<hr />
<h1 id="7-rolesallowed-jsr-250"><strong>7Ô∏è‚É£ @RolesAllowed</strong> (JSR-250)<a class="headerlink" href="#7-rolesallowed-jsr-250" title="Permanent link">&para;</a></h1>
<p>Alternate role-based access.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RolesAllowed</span><span class="p">({</span><span class="s">&quot;ADMIN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MANAGER&quot;</span><span class="p">})</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">approveOrder</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="8-withmockuser-testing"><strong>8Ô∏è‚É£ @WithMockUser (Testing)</strong><a class="headerlink" href="#8-withmockuser-testing" title="Permanent link">&para;</a></h1>
<p>Used in <strong>Spring Security test</strong> framework.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Test</span>
<span class="nd">@WithMockUser</span><span class="p">(</span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;john&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">roles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ADMIN&quot;</span><span class="p">)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">testAdminAccess</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="9-authenticationprincipal"><strong>9Ô∏è‚É£ @AuthenticationPrincipal</strong><a class="headerlink" href="#9-authenticationprincipal" title="Permanent link">&para;</a></h1>
<p>Injects the currently authenticated user.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/me&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">UserResponse</span><span class="w"> </span><span class="nf">me</span><span class="p">(</span><span class="nd">@AuthenticationPrincipal</span><span class="w"> </span><span class="n">CustomUser</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getEmail</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_23">‚úî Use Case<a class="headerlink" href="#use-case_23" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Get logged-in user</p>
</li>
<li>
<p>Resolve claims from JWT token</p>
</li>
<li>
<p>Custom UserDetails</p>
</li>
</ul>
<hr />
<h1 id="enableglobalauthentication"><strong>üîü @EnableGlobalAuthentication</strong><a class="headerlink" href="#enableglobalauthentication" title="Permanent link">&para;</a></h1>
<p>Enables global authentication providers (rarely needed explicitly).</p>
<hr />
<h1 id="jwt-oauth2-specific-annotations">‚≠ê JWT / OAuth2 Specific Annotations<a class="headerlink" href="#jwt-oauth2-specific-annotations" title="Permanent link">&para;</a></h1>
<hr />
<h1 id="11-enableoauth2client-legacy"><strong>1Ô∏è‚É£1Ô∏è‚É£ @EnableOAuth2Client</strong> (Legacy)<a class="headerlink" href="#11-enableoauth2client-legacy" title="Permanent link">&para;</a></h1>
<p>Used for OAuth2 Client applications.</p>
<hr />
<h1 id="12-enableresourceserver-legacy-oauth2"><strong>1Ô∏è‚É£2Ô∏è‚É£ @EnableResourceServer</strong> (Legacy OAuth2)<a class="headerlink" href="#12-enableresourceserver-legacy-oauth2" title="Permanent link">&para;</a></h1>
<p>Used in OAuth2 resource servers (pre Spring Security 5.5).</p>
<hr />
<h1 id="13-registeredoauth2authorizedclient"><strong>1Ô∏è‚É£3Ô∏è‚É£ @RegisteredOAuth2AuthorizedClient</strong><a class="headerlink" href="#13-registeredoauth2authorizedclient" title="Permanent link">&para;</a></h1>
<p>Injected OAuth2 Authorized Client.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/profile&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">profile</span><span class="p">(</span><span class="nd">@RegisteredOAuth2AuthorizedClient</span><span class="w"> </span><span class="n">OAuth2AuthorizedClient</span><span class="w"> </span><span class="n">client</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="14-currentsecuritycontext"><strong>1Ô∏è‚É£4Ô∏è‚É£ @CurrentSecurityContext</strong><a class="headerlink" href="#14-currentsecuritycontext" title="Permanent link">&para;</a></h1>
<p>Access security context directly.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/info&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">info</span><span class="p">(</span><span class="nd">@CurrentSecurityContext</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getAuthentication</span><span class="p">().</span><span class="na">getName</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="spring-security-jwt-modern-stack">‚≠ê Spring Security + JWT (Modern Stack)<a class="headerlink" href="#spring-security-jwt-modern-stack" title="Permanent link">&para;</a></h1>
<p>In JWT-based microservices, you often use:</p>
<h3 id="authenticationprincipal-jwt-jwt"><strong>@AuthenticationPrincipal Jwt jwt</strong><a class="headerlink" href="#authenticationprincipal-jwt-jwt" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/user&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">user</span><span class="p">(</span><span class="nd">@AuthenticationPrincipal</span><span class="w"> </span><span class="n">Jwt</span><span class="w"> </span><span class="n">jwt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">jwt</span><span class="p">.</span><span class="na">getClaims</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_24">‚úî Use Case<a class="headerlink" href="#use-case_24" title="Permanent link">&para;</a></h3>
<p>Injecting claims directly from JWT (OAuth2 Resource Server).</p>
<hr />
<h1 id="spring-security-for-microservices-real-world-patterns">‚≠ê Spring Security for Microservices (Real-World Patterns)<a class="headerlink" href="#spring-security-for-microservices-real-world-patterns" title="Permanent link">&para;</a></h1>
<hr />
<h1 id="15-permitall"><strong>1Ô∏è‚É£5Ô∏è‚É£ @PermitAll</strong><a class="headerlink" href="#15-permitall" title="Permanent link">&para;</a></h1>
<p>Allows anonymous access.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PermitAll</span>
<span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/public&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">publicApi</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;ok&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="16-denyall"><strong>1Ô∏è‚É£6Ô∏è‚É£ @DenyAll</strong><a class="headerlink" href="#16-denyall" title="Permanent link">&para;</a></h1>
<p>Blocks access.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@DenyAll</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">removeEverything</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<hr />
<h1 id="17-crossorigin"><strong>1Ô∏è‚É£7Ô∏è‚É£ @CrossOrigin</strong><a class="headerlink" href="#17-crossorigin" title="Permanent link">&para;</a></h1>
<p>Enables CORS (not strictly security, but part of web security config).</p>
<div class="highlight"><pre><span></span><code><span class="nd">@CrossOrigin</span><span class="p">(</span><span class="n">origins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;https://frontend.com&quot;</span><span class="p">)</span>
<span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/orders&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">orders</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="most-important-spring-boot-security-test-annotations">‚öô <strong>Most Important Spring Boot Security Test Annotations</strong><a class="headerlink" href="#most-important-spring-boot-security-test-annotations" title="Permanent link">&para;</a></h1>
<hr />
<h2 id="withmockuser">@WithMockUser<a class="headerlink" href="#withmockuser" title="Permanent link">&para;</a></h2>
<h2 id="withanonymoususer">@WithAnonymousUser<a class="headerlink" href="#withanonymoususer" title="Permanent link">&para;</a></h2>
<h2 id="withsecuritycontext">@WithSecurityContext<a class="headerlink" href="#withsecuritycontext" title="Permanent link">&para;</a></h2>
<h2 id="springboottest-autoconfiguremockmvc">@SpringBootTest + @AutoConfigureMockMvc<a class="headerlink" href="#springboottest-autoconfiguremockmvc" title="Permanent link">&para;</a></h2>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Test</span>
<span class="nd">@WithMockUser</span><span class="p">(</span><span class="n">roles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;USER&quot;</span><span class="p">)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">shouldAccessUserEndpoint</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">mockMvc</span><span class="p">.</span><span class="na">perform</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/user&quot;</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">status</span><span class="p">().</span><span class="na">isOk</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="common-interview-questions-with-crisp-answers">üö® Common Interview Questions (with crisp answers)<a class="headerlink" href="#common-interview-questions-with-crisp-answers" title="Permanent link">&para;</a></h1>
<hr />
<h3 id="1-what-is-the-difference-between-preauthorize-and-secured"><strong>1Ô∏è‚É£ What is the difference between @PreAuthorize and @Secured?</strong><a class="headerlink" href="#1-what-is-the-difference-between-preauthorize-and-secured" title="Permanent link">&para;</a></h3>
<p>‚úî <code>@PreAuthorize</code> ‚Üí expression-based, more powerful<br />
‚úî <code>@Secured</code> ‚Üí role-based only</p>
<hr />
<h3 id="2-should-we-use-method-level-or-endpoint-level-security"><strong>2Ô∏è‚É£ Should we use method-level or endpoint-level security?</strong><a class="headerlink" href="#2-should-we-use-method-level-or-endpoint-level-security" title="Permanent link">&para;</a></h3>
<p><strong>Best Practice:</strong> Both, but method-level ensures business logic is fully protected even if endpoint mappings change.</p>
<hr />
<h3 id="3-how-does-authenticationprincipal-work"><strong>3Ô∏è‚É£ How does @AuthenticationPrincipal work?</strong><a class="headerlink" href="#3-how-does-authenticationprincipal-work" title="Permanent link">&para;</a></h3>
<p>Injects the <code>UserDetails</code>, <code>Jwt</code>, or custom principal extracted from the security context.</p>
<hr />
<h3 id="4-what-is-enablemethodsecurity-used-for"><strong>4Ô∏è‚É£ What is @EnableMethodSecurity used for?</strong><a class="headerlink" href="#4-what-is-enablemethodsecurity-used-for" title="Permanent link">&para;</a></h3>
<p>Enables annotations like:</p>
<ul>
<li>
<p>@PreAuthorize</p>
</li>
<li>
<p>@PostAuthorize</p>
</li>
<li>
<p>@Secured</p>
</li>
<li>
<p>@RolesAllowed</p>
</li>
</ul>
<hr />
<h3 id="5-can-we-use-preauthorize-inside-service-layer"><strong>5Ô∏è‚É£ Can we use @PreAuthorize inside service layer?</strong><a class="headerlink" href="#5-can-we-use-preauthorize-inside-service-layer" title="Permanent link">&para;</a></h3>
<p>Absolutely ‚Äî this is the <strong>best practice</strong> for business-security.</p>
<hr />
<h3 id="6-how-to-secure-a-rest-endpoint-for-specific-roles"><strong>6Ô∏è‚É£ How to secure a REST endpoint for specific roles?</strong><a class="headerlink" href="#6-how-to-secure-a-rest-endpoint-for-specific-roles" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasRole(&#39;ADMIN&#39;)&quot;</span><span class="p">)</span>
<span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/admin&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">admin</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;secured&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="real-project-example-modern-securityfilterchain">üß† Real Project Example (Modern SecurityFilterChain)<a class="headerlink" href="#real-project-example-modern-securityfilterchain" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="nd">@EnableMethodSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfig</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityFilterChain</span><span class="w"> </span><span class="nf">securityFilterChain</span><span class="p">(</span><span class="n">HttpSecurity</span><span class="w"> </span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">http</span>
<span class="w">                </span><span class="p">.</span><span class="na">csrf</span><span class="p">(</span><span class="n">csrf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">csrf</span><span class="p">.</span><span class="na">disable</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">authorizeHttpRequests</span><span class="p">(</span><span class="n">auth</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">auth</span>
<span class="w">                        </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/public/**&quot;</span><span class="p">).</span><span class="na">permitAll</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">anyRequest</span><span class="p">().</span><span class="na">authenticated</span><span class="p">()</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">oauth2ResourceServer</span><span class="p">(</span><span class="n">oauth</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">oauth</span><span class="p">.</span><span class="na">jwt</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="done-the-complete-spring-security-annotation-guide">üéâ Done ‚Äî The complete Spring Security annotation guide<a class="headerlink" href="#done-the-complete-spring-security-annotation-guide" title="Permanent link">&para;</a></h1>
<p>If you want, next we can continue the annotation series with:</p>
<p>‚úî Jackson JSON Annotations<br />
‚úî Resilience4j + Spring Cloud annotations<br />
‚úî REST Controller annotations<br />
‚úî JPA/Hibernate annotations<br />
‚úî Microservices-specific annotations</p>
<p>Here are <strong>microservices-specific annotations</strong> you frequently use in Spring Boot + Spring Cloud‚Äìbased distributed systems.<br />
I‚Äôll group them by <strong>Service Discovery</strong>, <strong>Configuration</strong>, <strong>API Gateway</strong>, <strong>Client-side Load Balancing</strong>, <strong>Fault Tolerance</strong>, <strong>Distributed Tracing</strong>, <strong>Messaging</strong>, and <strong>Cloud-Native Patterns</strong>.</p>
<hr />
<h1 id="microservices-specific-annotations">‚úÖ <strong>Microservices-Specific Annotations</strong><a class="headerlink" href="#microservices-specific-annotations" title="Permanent link">&para;</a></h1>
<hr />
<h1 id="1-service-discovery-eureka-consul-zookeeper">üîµ <strong>1. Service Discovery (Eureka, Consul, Zookeeper)</strong><a class="headerlink" href="#1-service-discovery-eureka-consul-zookeeper" title="Permanent link">&para;</a></h1>
<h3 id="enableeurekaserver"><strong>@EnableEurekaServer</strong><a class="headerlink" href="#enableeurekaserver" title="Permanent link">&para;</a></h3>
<p>Turns a Spring Boot application into a Eureka Server.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableEurekaServer</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DiscoveryServerApplication</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="enablediscoveryclient"><strong>@EnableDiscoveryClient</strong><a class="headerlink" href="#enablediscoveryclient" title="Permanent link">&para;</a></h3>
<p>Registers the service with Eureka/Consul/Zookeeper.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableDiscoveryClient</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductServiceApplication</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="use-case_25"><strong>Use Case</strong><a class="headerlink" href="#use-case_25" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Service registration &amp; lookup</p>
</li>
<li>
<p>Dynamic scaling without hardcoded URLs</p>
</li>
</ul>
<hr />
<h1 id="2-spring-cloud-api-gateway">üîµ <strong>2. Spring Cloud API Gateway</strong><a class="headerlink" href="#2-spring-cloud-api-gateway" title="Permanent link">&para;</a></h1>
<h3 id="enablegateway"><strong>@EnableGateway</strong><a class="headerlink" href="#enablegateway" title="Permanent link">&para;</a></h3>
<p>(For Spring Cloud Gateway ‚Äì older versions require it)</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableGateway</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ApiGatewayApplication</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="global-filters-often-use-component"><strong>Global Filters often use @Component</strong><a class="headerlink" href="#global-filters-often-use-component" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthFilter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GlobalFilter</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<hr />
<h1 id="3-openfeign-declarative-http-client">üîµ <strong>3. OpenFeign ‚Äì Declarative HTTP Client</strong><a class="headerlink" href="#3-openfeign-declarative-http-client" title="Permanent link">&para;</a></h1>
<h3 id="enablefeignclients"><strong>@EnableFeignClients</strong><a class="headerlink" href="#enablefeignclients" title="Permanent link">&para;</a></h3>
<p>Enables Feign client scanning.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableFeignClients</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderService</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="feignclient"><strong>@FeignClient</strong><a class="headerlink" href="#feignclient" title="Permanent link">&para;</a></h3>
<p>Declarative REST client.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@FeignClient</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;payment-service&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/payments&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">PaymentClient</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/{id}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">PaymentResponse</span><span class="w"> </span><span class="nf">getPayment</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="use-case_26"><strong>Use Case</strong><a class="headerlink" href="#use-case_26" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Replaces RestTemplate/WebClient for inter-service communication</p>
</li>
<li>
<p>Built-in load balancing with Spring Cloud LoadBalancer</p>
</li>
</ul>
<hr />
<h1 id="4-load-balancing-spring-cloud-loadbalancer">üîµ <strong>4. Load Balancing (Spring Cloud LoadBalancer)</strong><a class="headerlink" href="#4-load-balancing-spring-cloud-loadbalancer" title="Permanent link">&para;</a></h1>
<h3 id="loadbalanced"><strong>@LoadBalanced</strong><a class="headerlink" href="#loadbalanced" title="Permanent link">&para;</a></h3>
<p>Injects client-side load balancer for RestTemplate/WebClient.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span>
<span class="nd">@LoadBalanced</span>
<span class="kd">public</span><span class="w"> </span><span class="n">RestTemplate</span><span class="w"> </span><span class="nf">restTemplate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RestTemplate</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="5-resilience4j-circuit-breaker-retry-bulkhead-ratelimiter">üîµ <strong>5. Resilience4j (Circuit Breaker, Retry, Bulkhead, RateLimiter)</strong><a class="headerlink" href="#5-resilience4j-circuit-breaker-retry-bulkhead-ratelimiter" title="Permanent link">&para;</a></h1>
<h3 id="circuitbreaker"><strong>@CircuitBreaker</strong><a class="headerlink" href="#circuitbreaker" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@CircuitBreaker</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventoryCircuitBreaker&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fallbackMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;fallback&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Inventory</span><span class="w"> </span><span class="nf">getInventory</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="retry"><strong>@Retry</strong><a class="headerlink" href="#retry" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Retry</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventoryRetry&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">callApi</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="ratelimiter"><strong>@RateLimiter</strong><a class="headerlink" href="#ratelimiter" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@RateLimiter</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;productRateLimiter&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">getProduct</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="bulkhead"><strong>@Bulkhead</strong><a class="headerlink" href="#bulkhead" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Bulkhead</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;productBulkhead&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Bulkhead</span><span class="p">.</span><span class="na">Type</span><span class="p">.</span><span class="na">SEMAPHORE</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">fetchProduct</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="6-distributed-configuration-spring-cloud-config">üîµ <strong>6. Distributed Configuration (Spring Cloud Config)</strong><a class="headerlink" href="#6-distributed-configuration-spring-cloud-config" title="Permanent link">&para;</a></h1>
<h3 id="enableconfigserver"><strong>@EnableConfigServer</strong><a class="headerlink" href="#enableconfigserver" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableConfigServer</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConfigServerApplication</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<h3 id="refreshscope"><strong>@RefreshScope</strong><a class="headerlink" href="#refreshscope" title="Permanent link">&para;</a></h3>
<p>Re-fetches config without restart.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RefreshScope</span>
<span class="nd">@RestController</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MessageController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;${service.message}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="7-distributed-tracing-sleuth-micrometer-tracing">üîµ <strong>7. Distributed Tracing (Sleuth / Micrometer Tracing)</strong><a class="headerlink" href="#7-distributed-tracing-sleuth-micrometer-tracing" title="Permanent link">&para;</a></h1>
<h3 id="newspan"><strong>@NewSpan</strong><a class="headerlink" href="#newspan" title="Permanent link">&para;</a></h3>
<p>Manually create a tracing span.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@NewSpan</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">processOrder</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<hr />
<h1 id="8-messaging-kafka-rabbitmq-event-driven-microservices">üîµ <strong>8. Messaging (Kafka, RabbitMQ, Event-Driven Microservices)</strong><a class="headerlink" href="#8-messaging-kafka-rabbitmq-event-driven-microservices" title="Permanent link">&para;</a></h1>
<h3 id="kafka-kafkalistener"><strong>Kafka @KafkaListener</strong><a class="headerlink" href="#kafka-kafkalistener" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@KafkaListener</span><span class="p">(</span><span class="n">topics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;order-events&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">consume</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="rabbitmq-rabbitlistener"><strong>RabbitMQ @RabbitListener</strong><a class="headerlink" href="#rabbitmq-rabbitlistener" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@RabbitListener</span><span class="p">(</span><span class="n">queues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;payment-queue&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">receive</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="9-validation-in-microservice-dtos-for-api-contracts">üîµ <strong>9. Validation in Microservice DTOs (For API Contracts)</strong><a class="headerlink" href="#9-validation-in-microservice-dtos-for-api-contracts" title="Permanent link">&para;</a></h1>
<h3 id="common">Common:<a class="headerlink" href="#common" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>@Valid</code></p>
</li>
<li>
<p><code>@Validated</code></p>
</li>
<li>
<p><code>@NotNull</code>, <code>@NotEmpty</code>, <code>@Positive</code>, etc.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nd">@PostMapping</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Response</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="nd">@Valid</span><span class="w"> </span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">CreateOrderRequest</span><span class="w"> </span><span class="n">req</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<hr />
<h1 id="10-serialization-rest-api-response-tuning-jackson">üîµ <strong>10. Serialization / REST API Response Tuning (Jackson)</strong><a class="headerlink" href="#10-serialization-rest-api-response-tuning-jackson" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p><code>@JsonIgnore</code></p>
</li>
<li>
<p><code>@JsonProperty</code></p>
</li>
<li>
<p><code>@JsonInclude</code></p>
</li>
<li>
<p><code>@JsonFormat</code></p>
</li>
</ul>
<p>Used heavily in DTOs across services.</p>
<hr />
<h1 id="11-spring-data-jpa-for-microservice-persistence">üîµ <strong>11. Spring Data JPA for Microservice Persistence</strong><a class="headerlink" href="#11-spring-data-jpa-for-microservice-persistence" title="Permanent link">&para;</a></h1>
<p>Though not microservice-specific, commonly used:</p>
<ul>
<li>
<p><code>@Entity</code></p>
</li>
<li>
<p><code>@Id</code></p>
</li>
<li>
<p><code>@GeneratedValue</code></p>
</li>
<li>
<p><code>@Repository</code></p>
</li>
</ul>
<hr />
<h1 id="12-spring-boot-admin-microservice-monitoring">üîµ <strong>12. Spring Boot Admin (Microservice Monitoring)</strong><a class="headerlink" href="#12-spring-boot-admin-microservice-monitoring" title="Permanent link">&para;</a></h1>
<h3 id="enableadminserver"><strong>@EnableAdminServer</strong><a class="headerlink" href="#enableadminserver" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableAdminServer</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AdminServer</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
<hr />
<h1 id="13-distributed-locking-redis-hazelcast">üîµ <strong>13. Distributed Locking (Redis, Hazelcast)</strong><a class="headerlink" href="#13-distributed-locking-redis-hazelcast" title="Permanent link">&para;</a></h1>
<h3 id="schedulerlock-shedlock"><strong>@SchedulerLock (ShedLock)</strong><a class="headerlink" href="#schedulerlock-shedlock" title="Permanent link">&para;</a></h3>
<p>Used to avoid duplicate job execution across instances.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SchedulerLock</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventorySyncJob&quot;</span><span class="p">)</span>
<span class="nd">@Scheduled</span><span class="p">(</span><span class="n">fixedDelay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sync</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="if-you-want-i-can-provide">üìå <strong>If You Want, I Can Provide:</strong><a class="headerlink" href="#if-you-want-i-can-provide" title="Permanent link">&para;</a></h1>
<p>‚úî Full real-world microservice diagrams<br />
‚úî Sample project combining Feign + Resilience4j + Eureka + Gateway<br />
‚úî Production-level code examples<br />
‚úî Low-level design &amp; HLD for microservices architecture</p>
<h1 id="full-microservice-sample-feign-resilience4j-eureka-gateway">Full microservice sample ‚Äî <strong>Feign + Resilience4j + Eureka + Gateway</strong><a class="headerlink" href="#full-microservice-sample-feign-resilience4j-eureka-gateway" title="Permanent link">&para;</a></h1>
<p>Below is a <strong>complete, production-minded blueprint</strong>: project structure, HLD, LLD, key code/config snippets, resilience &amp; caching integration, CI/infra notes, and testing suggestions. You can use this as a template to implement a resilient microservice ecosystem.</p>
<hr />
<h1 id="1-executive-summary-what-you-get">1 ‚Äî Executive summary (what you get)<a class="headerlink" href="#1-executive-summary-what-you-get" title="Permanent link">&para;</a></h1>
<p>A small microservice ecosystem containing:</p>
<ul>
<li>
<p><strong>Discovery</strong>: Eureka Server</p>
</li>
<li>
<p><strong>Config</strong>: Spring Cloud Config Server (centralized properties)</p>
</li>
<li>
<p><strong>API Gateway</strong>: Spring Cloud Gateway (routing, auth filter, rate-limiting hooks)</p>
</li>
<li>
<p><strong>Services</strong>: <code>order-service</code>, <code>inventory-service</code>, <code>product-service</code> (example)</p>
</li>
<li>
<p><strong>Client</strong>: Feign clients for inter-service calls</p>
</li>
<li>
<p><strong>Resilience</strong>: Resilience4j annotations (<code>@CircuitBreaker</code>, <code>@Retry</code>, <code>@RateLimiter</code>, <code>@TimeLimiter</code>, <code>@Bulkhead</code>)</p>
</li>
<li>
<p><strong>Caching</strong>: Redis-backed caching via Spring Cache (<code>@Cacheable</code>, <code>@CachePut</code>, <code>@CacheEvict</code>)</p>
</li>
<li>
<p><strong>Observability</strong>: Micrometer metrics, tracing hooks (instrumentation-ready)</p>
</li>
<li>
<p><strong>Dev ops</strong>: Docker + Kubernetes-ready manifest notes, health checks, readiness/liveness</p>
</li>
</ul>
<hr />
<h1 id="2-high-level-architecture-hld">2 ‚Äî High-Level Architecture (HLD)<a class="headerlink" href="#2-high-level-architecture-hld" title="Permanent link">&para;</a></h1>
<p>Clients ‚Üí <strong>API Gateway</strong> ‚Üí (service discovery) ‚Üí <strong>order-service</strong> ‚Üî <strong>inventory-service</strong> &amp; <strong>product-service</strong><br />
Shared infra:</p>
<ul>
<li>
<p><strong>Eureka</strong> (service registry)</p>
</li>
<li>
<p><strong>Config Server</strong> (properties)</p>
</li>
<li>
<p><strong>Redis</strong> (cache)</p>
</li>
<li>
<p><strong>Prometheus + Grafana</strong> (metrics)</p>
</li>
<li>
<p><strong>Jaeger</strong> (tracing)</p>
</li>
<li>
<p><strong>Kafka</strong> (optional event bus)</p>
</li>
</ul>
<p>Key flows:</p>
<ul>
<li>
<p>Client calls Gateway <code>/api/orders</code> ‚Üí gateway route to <code>order-service</code>.</p>
</li>
<li>
<p><code>order-service</code> calls <code>inventory-service</code> via Feign. Feign client is decorated with Resilience4j policies.</p>
</li>
<li>
<p><code>product-service</code> provides product details and is cached in Redis with <code>@Cacheable</code>.</p>
</li>
<li>
<p>Failures: <code>order-service</code> fallback path uses cached data or returns graceful error.</p>
</li>
</ul>
<p>Non-functional requirements:</p>
<ul>
<li>
<p>Resiliency: circuit breakers, retries with backoff, bulkheads.</p>
</li>
<li>
<p>Scalability: stateless services, sticky caches where needed (Redis).</p>
</li>
<li>
<p>Observability: metrics per endpoint, distributed tracing.</p>
</li>
<li>
<p>Security: OAuth2/JWT at gateway, method-level <code>@PreAuthorize</code> in services.</p>
</li>
</ul>
<hr />
<h1 id="3-project-layout-multi-module-maven">3 ‚Äî Project layout (multi-module Maven)<a class="headerlink" href="#3-project-layout-multi-module-maven" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code>microservices-root/
‚îú‚îÄ config-server/
‚îú‚îÄ eureka-server/
‚îú‚îÄ gateway/
‚îú‚îÄ common/
‚îÇ  ‚îú‚îÄ libs: dto, exceptions, feign-config, resilience-config
‚îú‚îÄ order-service/
‚îú‚îÄ inventory-service/
‚îú‚îÄ product-service/
‚îú‚îÄ docker-compose.yml
‚îú‚îÄ k8s/ (manifests)
‚îî‚îÄ infra/ (prometheus, grafana, jaeger)
</code></pre></div>
<p><code>common</code> is a dependency for DTOs, constants, and centralized configs.</p>
<hr />
<h1 id="4-key-dependencies-maven-snippets">4 ‚Äî Key dependencies (Maven snippets)<a class="headerlink" href="#4-key-dependencies-maven-snippets" title="Permanent link">&para;</a></h1>
<p>Add to each service <code>pom.xml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- Spring Boot + Cloud --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-openfeign<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="cm">&lt;!-- Resilience4j --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>io.github.resilience4j<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>resilience4j-spring-boot2<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="cm">&lt;!-- Caching (Redis) --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="cm">&lt;!-- Metrics/Tracing --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>io.micrometer<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>micrometer-registry-prometheus<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>io.opentelemetry.instrumentation<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>opentelemetry-spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Gateway additionally:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-gateway<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Eureka server:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Config server:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>spring-cloud-config-server<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<hr />
<h1 id="5-example-configurations-applicationyml">5 ‚Äî Example configurations (application.yml)<a class="headerlink" href="#5-example-configurations-applicationyml" title="Permanent link">&para;</a></h1>
<h2 id="51-eureka-server-eureka-serversrcmainresourcesapplicationyml">5.1 Eureka server (eureka-server/src/main/resources/application.yml)<a class="headerlink" href="#51-eureka-server-eureka-serversrcmainresourcesapplicationyml" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8761</span>

<span class="nt">eureka</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">register-with-eureka</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">fetch-registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">server</span><span class="p">:</span>
<span class="w">    </span><span class="nt">wait-time-in-ms-when-sync-empty</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</code></pre></div>
<h2 id="52-config-server-config-server">5.2 Config server (config-server)<a class="headerlink" href="#52-config-server-config-server" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8888</span>

<span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cloud</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">server</span><span class="p">:</span>
<span class="w">        </span><span class="nt">git</span><span class="p">:</span>
<span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/your-org/micro-configs</span>
</code></pre></div>
<h2 id="53-gateway-gatewayapplicationyml">5.3 Gateway (gateway/application.yml)<a class="headerlink" href="#53-gateway-gatewayapplicationyml" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span>

<span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">application</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api-gateway</span>

<span class="nt">eureka</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">serviceUrl</span><span class="p">:</span>
<span class="w">      </span><span class="nt">defaultZone</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8761/eureka/</span>

<span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cloud</span><span class="p">:</span>
<span class="w">    </span><span class="nt">gateway</span><span class="p">:</span>
<span class="w">      </span><span class="nt">routes</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">order</span>
<span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lb://order-service</span>
<span class="w">          </span><span class="nt">predicates</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Path=/api/orders/**</span>
<span class="w">          </span><span class="nt">filters</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">StripPrefix=1</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RequestRateLimiter=redis-rate-limiter[10,20]</span><span class="w">  </span><span class="c1"># optional</span>
<span class="nt">management</span><span class="p">:</span>
<span class="w">  </span><span class="nt">endpoints</span><span class="p">:</span>
<span class="w">    </span><span class="nt">web</span><span class="p">:</span>
<span class="w">      </span><span class="nt">exposure</span><span class="p">:</span>
<span class="w">        </span><span class="nt">include</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">health,info,metrics,prometheus</span>
</code></pre></div>
<h2 id="54-order-service-order-serviceapplicationyml">5.4 Order service (order-service/application.yml)<a class="headerlink" href="#54-order-service-order-serviceapplicationyml" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8090</span>
<span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">application</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">order-service</span>

<span class="nt">eureka</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">serviceUrl</span><span class="p">:</span>
<span class="w">      </span><span class="nt">defaultZone</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8761/eureka/</span>

<span class="nt">feign</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span>
<span class="w">        </span><span class="nt">connectTimeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5000</span>
<span class="w">        </span><span class="nt">readTimeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5000</span>

<span class="nt">resilience4j</span><span class="p">:</span>
<span class="w">  </span><span class="nt">circuitbreaker</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">      </span><span class="nt">inventoryService</span><span class="p">:</span>
<span class="w">        </span><span class="nt">registerHealthIndicator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">slidingWindowSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">        </span><span class="nt">minimumNumberOfCalls</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">        </span><span class="nt">failureRateThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="w">        </span><span class="nt">waitDurationInOpenState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30s</span>
<span class="w">  </span><span class="nt">retry</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">      </span><span class="nt">inventoryService</span><span class="p">:</span>
<span class="w">        </span><span class="nt">maxAttempts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">        </span><span class="nt">waitDuration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2s</span>
<span class="nt">management</span><span class="p">:</span>
<span class="w">  </span><span class="nt">metrics</span><span class="p">:</span>
<span class="w">    </span><span class="nt">export</span><span class="p">:</span>
<span class="w">      </span><span class="nt">prometheus</span><span class="p">:</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h2 id="55-redis-applicationyml">5.5 Redis (application.yml)<a class="headerlink" href="#55-redis-applicationyml" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">redis</span><span class="p">:</span>
<span class="w">    </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6379</span>
</code></pre></div>
<hr />
<h1 id="6-key-code-snippets">6 ‚Äî Key code snippets<a class="headerlink" href="#6-key-code-snippets" title="Permanent link">&para;</a></h1>
<h2 id="61-eureka-server-main">6.1 Eureka server main<a class="headerlink" href="#61-eureka-server-main" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootApplication</span>
<span class="nd">@EnableEurekaServer</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DiscoveryServerApplication</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">DiscoveryServerApplication</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="62-config-server-main">6.2 Config server main<a class="headerlink" href="#62-config-server-main" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootApplication</span>
<span class="nd">@EnableConfigServer</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConfigServerApplication</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h2 id="63-gateway-global-auth-filter-sample">6.3 Gateway - global auth filter (sample)<a class="headerlink" href="#63-gateway-global-auth-filter-sample" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthFilter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GlobalFilter</span><span class="p">,</span><span class="w"> </span><span class="n">Ordered</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">ServerWebExchange</span><span class="w"> </span><span class="n">exchange</span><span class="p">,</span><span class="w"> </span><span class="n">GatewayFilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Validate JWT token; reject if unauthorized</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">chain</span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">exchange</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nd">@Override</span><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getOrder</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="64-feign-client-inventory">6.4 Feign client (inventory)<a class="headerlink" href="#64-feign-client-inventory" title="Permanent link">&para;</a></h2>
<p><code>common</code> module -&gt; <code>dto</code> share types</p>
<div class="highlight"><pre><span></span><code><span class="nd">@FeignClient</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventory-service&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/api/inventory&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">InventoryClient</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/{productId}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">InventoryDto</span><span class="w"> </span><span class="nf">getInventory</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="p">(</span><span class="s">&quot;productId&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productId</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="65-orderservice-using-resilience4j-feign">6.5 OrderService using Resilience4j + Feign<a class="headerlink" href="#65-orderservice-using-resilience4j-feign" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryClient</span><span class="w"> </span><span class="n">inventoryClient</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@CircuitBreaker</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventoryService&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fallbackMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventoryFallback&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Retry</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventoryService&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">OrderConfirmation</span><span class="w"> </span><span class="nf">placeOrder</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productId</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">qty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">InventoryDto</span><span class="w"> </span><span class="n">inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryClient</span><span class="p">.</span><span class="na">getInventory</span><span class="p">(</span><span class="n">productId</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getAvailable</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">qty</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InsufficientStockException</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// create order...</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OrderConfirmation</span><span class="p">(...);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrderConfirmation</span><span class="w"> </span><span class="nf">inventoryFallback</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productId</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">qty</span><span class="p">,</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Try cache or return user-friendly response</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OrderConfirmation</span><span class="p">(</span><span class="s">&quot;fallback&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">...);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="66-product-service-caching-redis">6.6 Product service caching (Redis)<a class="headerlink" href="#66-product-service-caching-redis" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="nd">@CacheConfig</span><span class="p">(</span><span class="n">cacheNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">)</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductRepository</span><span class="w"> </span><span class="n">repo</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Cacheable</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProductDto</span><span class="w"> </span><span class="nf">getProduct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">simulateSlowDB</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">repo</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">id</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@CachePut</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#product.id&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProductDto</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">ProductDto</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">repo</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="7-resilience4j-config-example-yaml">7 ‚Äî Resilience4j config (example YAML)<a class="headerlink" href="#7-resilience4j-config-example-yaml" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code><span class="nt">resilience4j</span><span class="p">:</span>
<span class="w">  </span><span class="nt">circuitbreaker</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">      </span><span class="nt">inventoryService</span><span class="p">:</span>
<span class="w">        </span><span class="nt">slidingWindowSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="w">        </span><span class="nt">minimumNumberOfCalls</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">        </span><span class="nt">failureRateThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span>
<span class="w">        </span><span class="nt">waitDurationInOpenState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30s</span>
<span class="w">  </span><span class="nt">retry</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">      </span><span class="nt">inventoryService</span><span class="p">:</span>
<span class="w">        </span><span class="nt">maxAttempts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">        </span><span class="nt">waitDuration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2s</span>
<span class="w">  </span><span class="nt">timelimiter</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">      </span><span class="nt">inventoryService</span><span class="p">:</span>
<span class="w">        </span><span class="nt">timeoutDuration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2s</span>
</code></pre></div>
<hr />
<h1 id="8-caching-strategy-recommendation">8 ‚Äî Caching strategy (recommendation)<a class="headerlink" href="#8-caching-strategy-recommendation" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Use Redis as central cache for distributed services.</p>
</li>
<li>
<p>Cache read-heavy product catalog with <code>@Cacheable</code>.</p>
</li>
<li>
<p>Cache invalidation: <code>@CacheEvict</code> on update/delete paths in product-service and publish an event to notify other services if needed.</p>
</li>
<li>
<p>Cache warm-up: populate on startup if cold start is a concern.</p>
</li>
<li>
<p>Set TTLs per business rule (e.g., product details 15m, inventory 30s).</p>
</li>
</ul>
<hr />
<h1 id="9-observability-metrics">9 ‚Äî Observability &amp; Metrics<a class="headerlink" href="#9-observability-metrics" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Expose <code>/actuator/prometheus</code> on services for Prometheus scraping.</p>
</li>
<li>
<p>Instrument methods with Micrometer <code>@Timed</code> or <code>Timer</code> code.</p>
</li>
<li>
<p>Add tracing by propagating HTTP headers (W3C traceparent) via Feign config and Gateway forwards.</p>
</li>
<li>
<p>Use Resilience4j metrics integration ‚Äî circuit breaker open/close counts visible in Prometheus.</p>
</li>
</ul>
<hr />
<h1 id="10-security-recommended">10 ‚Äî Security (recommended)<a class="headerlink" href="#10-security-recommended" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Token validation at Gateway: API Gateway validates JWT and forwards claims to services.</p>
</li>
<li>
<p>Use <code>@EnableMethodSecurity</code> and <code>@PreAuthorize("hasRole('ORDER_CREATE')")</code> on service methods for fine-grained control.</p>
</li>
<li>
<p>Protect actuator endpoints with appropriate roles.</p>
</li>
</ul>
<hr />
<h1 id="11-dev-infra-containers-k8s">11 ‚Äî Dev / Infra (containers, k8s)<a class="headerlink" href="#11-dev-infra-containers-k8s" title="Permanent link">&para;</a></h1>
<p><strong>docker-compose.yml</strong> quick stacks:</p>
<ul>
<li>config-server, eureka-server, redis, prometheus, grafana, jaeger, gateway, services</li>
</ul>
<p><strong>Kubernetes</strong>:</p>
<ul>
<li>
<p>Each service: Deployment + Service + HorizontalPodAutoscaler</p>
</li>
<li>
<p>Use readinessProbe (HTTP <code>/actuator/health</code>) and livenessProbe.</p>
</li>
<li>
<p>Use ClusterIP for Redis, Headless service for stateful, Ingress for external access (gateway via Ingress).</p>
</li>
</ul>
<hr />
<h1 id="12-ci-cd-testing">12 ‚Äî CI / CD &amp; Testing<a class="headerlink" href="#12-ci-cd-testing" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Unit tests: pure unit (Mockito) for service logic. Test resilience fallback logic.</p>
</li>
<li>
<p>Contract tests: Pact or Spring Cloud Contract between <code>order</code> and <code>inventory</code>.</p>
</li>
<li>
<p>Integration tests: <code>@SpringBootTest</code> with <code>@Testcontainers</code> (Redis, Eureka replaced by local testcontainers or WireMock for feign).</p>
</li>
<li>
<p>E2E tests: run against docker-compose or dev k8s namespace.</p>
</li>
<li>
<p>CI: build, run unit tests, build images, push to registry; CD: helm charts deploy to staging.</p>
</li>
</ul>
<hr />
<h1 id="13-example-of-integration-test-testcontainers-eureka-stub">13 ‚Äî Example of integration test (Testcontainers + Eureka stub)<a class="headerlink" href="#13-example-of-integration-test-testcontainers-eureka-stub" title="Permanent link">&para;</a></h1>
<p>Use Testcontainers for Redis + WireMock for feign target:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootTest</span>
<span class="nd">@Testcontainers</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderServiceIntegrationTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nd">@Container</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">GenericContainer</span><span class="w"> </span><span class="n">redis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GenericContainer</span><span class="p">(</span><span class="s">&quot;redis:6.2&quot;</span><span class="p">).</span><span class="na">withExposedPorts</span><span class="p">(</span><span class="mi">6379</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@BeforeAll</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">setProperty</span><span class="p">(</span><span class="s">&quot;spring.redis.host&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">redis</span><span class="p">.</span><span class="na">getHost</span><span class="p">());</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">setProperty</span><span class="p">(</span><span class="s">&quot;spring.redis.port&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">redis</span><span class="p">.</span><span class="na">getFirstMappedPort</span><span class="p">().</span><span class="na">toString</span><span class="p">());</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@MockBean</span>
<span class="w">  </span><span class="n">InventoryClient</span><span class="w"> </span><span class="n">inventoryClient</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@Autowired</span><span class="w"> </span><span class="n">OrderService</span><span class="w"> </span><span class="n">orderService</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@Test</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">placeOrderFallback_onInventoryDown</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">when</span><span class="p">(</span><span class="n">inventoryClient</span><span class="p">.</span><span class="na">getInventory</span><span class="p">(</span><span class="n">anyString</span><span class="p">()))</span>
<span class="w">       </span><span class="p">.</span><span class="na">thenThrow</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;down&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="n">OrderConfirmation</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderService</span><span class="p">.</span><span class="na">placeOrder</span><span class="p">(</span><span class="s">&quot;p1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;fallback&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getStatus</span><span class="p">());</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h1 id="14-operational-runbook-quick-points">14 ‚Äî Operational runbook (quick points)<a class="headerlink" href="#14-operational-runbook-quick-points" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Monitor circuit breakers; configure alerts when a CB opens repeatedly.</p>
</li>
<li>
<p>Monitor error rates &amp; latencies.</p>
</li>
<li>
<p>Use health endpoints to detect dependency failures (e.g., Redis down).</p>
</li>
<li>
<p>For cache incoherence, use versioned keys or events to invalidate.</p>
</li>
</ul>
<hr />
<h1 id="15-next-steps-pick-one">15 ‚Äî Next steps (pick one)<a class="headerlink" href="#15-next-steps-pick-one" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>I can <strong>generate the full Maven multi-module skeleton</strong> with sample code for each module.</p>
</li>
<li>
<p>Or produce <strong>Kubernetes manifests + Helm chart</strong> for this stack.</p>
</li>
<li>
<p>Or produce a <strong>complete Order ‚Üí Inventory Feign + resilience integrated codebase</strong> (full files ready to paste).</p>
</li>
</ul>
<p>[[Resilience4j]]</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "toc.integrate"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>